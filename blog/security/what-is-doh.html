<!DOCTYPE html><html lang="en-us" class="__variable_dd5b2f scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/36966cca54120369-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/c890694439b2475b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/1ea5cf861ee12a80.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/a9b9096fa657c0d0.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-8506c16620cf39fb.js"/><script src="/_next/static/chunks/fd9d1056-30760135124e6678.js" async=""></script><script src="/_next/static/chunks/23-44b8024386371b46.js" async=""></script><script src="/_next/static/chunks/main-app-06a10a1bb45617e8.js" async=""></script><script src="/_next/static/chunks/ebde5ed1-51545511fe0d5050.js" async=""></script><script src="/_next/static/chunks/231-34a6a67d2da26855.js" async=""></script><script src="/_next/static/chunks/827-69594f61c16b8a9c.js" async=""></script><script src="/_next/static/chunks/850-ecf153581cc02044.js" async=""></script><script src="/_next/static/chunks/app/layout-54bebb918ae7f176.js" async=""></script><script src="/_next/static/chunks/app/blog/%5B...slug%5D/page-bd056182432da53b.js" async=""></script><script src="https://us.umami.is/script.js" async=""></script><title>DNS over HTTPS (DoH) 简介</title><meta name="description" content="DNS over HTTPS (DoH) 是一种通过 HTTPS 协议加密 DNS 查询的技术，与传统明文 DNS 相比，它显著提升了用户隐私和安全性。DoH 能防止窃听、DNS 欺骗和中间人攻击，保护用户浏览习惯不被追踪。目前已被主流浏览器和操作系统广泛支持，成为互联网安全的重要进步。"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://blog.mainjay.cloudns.ch/blog/security/what-is-doh"/><link rel="alternate" type="application/rss+xml" href="https://blog.mainjay.cloudns.ch/feed.xml"/><meta property="og:title" content="DNS over HTTPS (DoH) 简介"/><meta property="og:description" content="DNS over HTTPS (DoH) 是一种通过 HTTPS 协议加密 DNS 查询的技术，与传统明文 DNS 相比，它显著提升了用户隐私和安全性。DoH 能防止窃听、DNS 欺骗和中间人攻击，保护用户浏览习惯不被追踪。目前已被主流浏览器和操作系统广泛支持，成为互联网安全的重要进步。"/><meta property="og:url" content="https://blog.mainjay.cloudns.ch/blog/security/what-is-doh"/><meta property="og:site_name" content="MainJayLai Blog"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://pngimg.com/uploads/github/github_PNG80.png"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2025-03-31T00:00:00.000Z"/><meta property="article:modified_time" content="2025-03-31T00:00:00.000Z"/><meta property="article:author" content="mainJayLai"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="DNS over HTTPS (DoH) 简介"/><meta name="twitter:description" content="DNS over HTTPS (DoH) 是一种通过 HTTPS 协议加密 DNS 查询的技术，与传统明文 DNS 相比，它显著提升了用户隐私和安全性。DoH 能防止窃听、DNS 欺骗和中间人攻击，保护用户浏览习惯不被追踪。目前已被主流浏览器和操作系统广泛支持，成为互联网安全的重要进步。"/><meta name="twitter:image" content="https://pngimg.com/uploads/github/github_PNG80.png"/><meta name="next-size-adjust"/><link rel="icon" type="image/png" href="https://mainjaylai.github.io/favicon.png"/><link rel="manifest" href="/static/favicons/manifest.json"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><meta name="referrer" content="no-referrer"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&amp;family=ZCOOL+QingKe+HuangYou&amp;family=ZCOOL+XiaoWei&amp;display=swap" rel="stylesheet"/><script src="https://cdn.jsdelivr.net/gh/ashishagarwal2023/freegptjs@1.0.2/src/freegpt.min.js"></script><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="bg-white pl-[calc(100vw-100%)] text-black antialiased dark:bg-gray-950 dark:text-white"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&false)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}else{c.add('light')}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'light'}catch(e){}}()</script><section class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between font-sans"><header class="flex items-center justify-between py-5"><div><a aria-label="Blog" href="/"><div class="flex items-center justify-between"><div class="mr-3"><img alt="logo" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" style="color:transparent" src="https://mainjaylai.github.io/favicon.png"/></div><div class="hidden h-[44px] text-center text-3xl font-semibold leading-10 sm:block">Blog</div></div></a></div><div class="flex items-center space-x-4 leading-5 sm:space-x-6"><a class="navbar-item hidden font-medium text-gray-900 dark:text-gray-100 sm:block" href="/blog">Blog</a><a class="navbar-item hidden font-medium text-gray-900 dark:text-gray-100 sm:block" href="/tags">Tags</a><a target="_blank" rel="noopener noreferrer" href="https://mainjaylai.github.io" class="navbar-item hidden font-medium text-gray-900 dark:text-gray-100 sm:block">About</a><button aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 text-gray-900 dark:text-gray-100"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></button><div class="mr-8"><div class="relative inline-block text-left" data-headlessui-state=""><div><button id="headlessui-menu-button-:R5pkqja:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-6 w-6 text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path></svg></button></div></div></div><button aria-label="AI Chat" class="flex items-center justify-center rounded-full p-1.5 text-gray-800 transition-all hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path><path d="M8 9h8"></path><path d="M8 13h6"></path></svg></button><div class="mr-5"><div class="relative inline-block text-left" data-headlessui-state=""><div><button class="flex items-center" id="headlessui-menu-button-:R6pkqja:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><div class="mr-2">简体中文</div><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1616" width="15" height="15"><path d="M670.72 325.696L511.552 152l87.68-87.872 360.96 389.504L832 453.76v0.64H64V325.76h606.72z m-318.4 382.08l157.248 172.8-94.976 79.552L63.872 579.84l147.712-0.704v-0.128H960v128.768H352.32z" fill="#262626" p-id="1617"></path></svg></button></div></div></div><button aria-label="Toggle Menu" class="sm:hidden"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-8 w-8 text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="opacity-98 fixed left-0 top-0 z-10 h-full w-full transform bg-white duration-300 ease-in-out dark:bg-gray-950 dark:opacity-[0.98] translate-x-full"><div class="flex justify-end"><button class="mr-8 mt-8 h-8 w-8" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 opacity-80 dark:text-gray-100" href="/">Home</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 opacity-80 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 opacity-80 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a target="_blank" rel="noopener noreferrer" href="https://mainjaylai.github.io" class="text-2xl font-bold tracking-widest text-gray-900 opacity-80 dark:text-gray-100">About</a></div></nav></div></div></header><main class="mb-auto"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"DNS over HTTPS (DoH) 简介","datePublished":"2025-03-31T00:00:00.000Z","dateModified":"2025-03-31T00:00:00.000Z","description":"DNS over HTTPS (DoH) 是一种通过 HTTPS 协议加密 DNS 查询的技术，与传统明文 DNS 相比，它显著提升了用户隐私和安全性。DoH 能防止窃听、DNS 欺骗和中间人攻击，保护用户浏览习惯不被追踪。目前已被主流浏览器和操作系统广泛支持，成为互联网安全的重要进步。","image":"https://pngimg.com/uploads/github/github_PNG80.png","url":"https://blog.mainjay.cloudns.ch/blog/security/what-is-doh","author":[{"@type":"Person","name":"mainJayLai"}]}</script><section class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed bottom-8 right-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div><header><div class="space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700"><div class="beautiful-chinese-title"><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">DNS over HTTPS (DoH) 简介</h1></div><dl><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2025-03-31T00:00:00.000Z">March 31, 2025</time></dd></div></dl></div></header><div class="grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="beautiful-chinese-content prose max-w-none pb-8 pt-10 dark:prose-invert"><h2 class="content-header" id="什么是-dns"><a href="#什么是-dns" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>什么是 DNS？</h2><p>DNS（域名系统）是互联网基础设施的关键组成部分。DNS 作为一种分布式目录服务，将人类可读的域名转换为机器可读的 IP 地址。当您在浏览器中输入网站地址时，DNS 系统帮助您的浏览器在互联网上找到正确的服务器。当人们输入类似<code class="custom-code">www.test.com</code>这样的名称时，DNS 将域名转换为 IP 地址，以便浏览器可以加载互联网资源。</p><p>DNS 使用分层和分布式数据库来管理域名到 IP 地址的映射。这种层次结构包括根服务器、TLD（顶级域名）服务器和权威 DNS 服务器。为了提高效率和速度，DNS 响应通常在多个级别上被缓存，包括在您的本地机器和 DNS 服务器上，因此对同一域名的重复查询可以更快地解析。</p><h2 class="content-header" id="传统-dns-处理过程"><a href="#传统-dns-处理过程" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>传统 DNS 处理过程</h2><p>DNS 过程确保您被引导到与您输入的域名相关联的正确网站。传统的 DNS 处理过程包括以下步骤：</p><ol><li><strong>用户请求</strong>：当您在浏览器中输入域名时，会启动 DNS 查询以查找与该域名相关联的 IP 地址。</li><li><strong>DNS 解析器</strong>：您的查询首先发送到 DNS 解析器，通常由您的互联网服务提供商提供。解析器的工作是通过查询其他 DNS 服务器来查找 IP 地址，如果它没有已经缓存的信息。</li><li><strong>根 DNS 服务器</strong>：如果解析器没有答案，它会查询根 DNS 服务器之一。根服务器没有 IP 地址，但会将解析器引导到适当的顶级域名（TLD）DNS 服务器（例如.com 或.org）。</li><li><strong>TLD DNS 服务器</strong>：TLD 服务器将解析器引导到特定域名的权威 DNS 服务器。</li><li><strong>权威 DNS 服务器</strong>：权威服务器保存域名的实际 DNS 记录，提供所请求域名的 IP 地址。</li><li><strong>响应</strong>：解析器从权威服务器接收 IP 地址，并将其返回给您的浏览器。</li><li><strong>缓存</strong>：解析器和您的浏览器缓存 IP 地址以供将来请求使用，减少重复查找过程的需要。</li></ol><h2 class="content-header" id="与传统-dns-相关的安全风险"><a href="#与传统-dns-相关的安全风险" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>与传统 DNS 相关的安全风险</h2><p>传统域名系统（DNS）操作存在几个固有的安全风险。作为互联网基础设施最古老的部分之一，DNS 设计时并没有强大的安全功能，这导致了它在许多形式的网络攻击中被利用。以下是与传统 DNS 相关的一些主要安全风险：</p><ul><li><p><strong>DNS 欺骗</strong>：这种攻击涉及将虚假地址记录插入 DNS 服务器的缓存中。如果攻击者能够毒化 DNS 缓存，即使用户在浏览器中输入正确的地址，他们也可以在用户不知情的情况下将其重定向到恶意网站。此方法可用于传播恶意软件或进行网络钓鱼攻击以窃取用户信息。</p></li><li><p><strong>中间人（MitM）攻击</strong>：由于传统 DNS 查询和响应未加密，它们容易受到窃听和拦截。攻击者可以利用此漏洞将自己插入用户和其 DNS 请求之间，将他们重定向到欺诈性网站或监视他们的互联网活动。</p></li><li><p><strong>DNS 隧道</strong>：攻击者可以利用 DNS 查询和响应来走私数据进出网络，绕过传统的网络安全措施，如防火墙。DNS 隧道可用于数据泄露、恶意软件的命令和控制，或绕过互联网使用政策和限制。</p></li><li><p><strong>分布式拒绝服务（DDoS）攻击</strong>：DNS 服务器可能成为 DDoS 攻击的目标，通过这种攻击，一个受感染计算机网络（僵尸网络）会用大量查询淹没 DNS 服务器。这可能使 DNS 服务变慢或完全不可用，扰乱合法用户对网站和在线服务的访问。</p></li><li><p><strong>域名劫持</strong>：通过利用漏洞或通过社会工程攻击（如网络钓鱼），攻击者可以获取域名的 DNS 设置控制权。然后，他们可以将域名的流量重定向到恶意站点，拦截电子邮件和敏感信息，或破坏对该域名下托管的合法服务的访问。</p></li><li><p><strong>零日漏洞</strong>：DNS 查询和响应以明文形式通过网络传输。这使得它们容易被任何有网络访问权限的人拦截，包括 ISP、网络管理员或恶意行为者。攻击者可以捕获和分析 DNS 流量，以监控用户正在访问的网站，可能导致隐私泄露。</p></li><li><p><strong>窃听</strong>：DNS 查询和响应以明文形式通过网络传输。这使得它们容易被任何有网络访问权限的人拦截，包括 ISP、网络管理员或恶意行为者。攻击者可以捕获和分析 DNS 流量，以监控用户正在访问的网站，可能导致隐私泄露。</p></li><li><p><strong>DNS 放大攻击</strong>：这种类型的 DoS 攻击涉及利用 DNS 基础设施来放大针对目标的流量量。攻击者向开放的 DNS 解析器发送小查询，这些解析器以大量答案作出响应，压倒目标。这可能导致重大服务中断和网络拥塞。</p></li><li><p><strong>DNS 重绑定</strong>：DNS 重绑定攻击涉及操纵 DNS 响应，使受害者的浏览器与内部网络地址或服务器通信。这可能将内部网络资源暴露给互联网，可能导致未授权访问或数据泄露。</p></li></ul><h2 class="content-header" id="dns-over-https-doh-介绍"><a href="#dns-over-https-doh-介绍" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>DNS over HTTPS (DoH) 介绍</h2><p>DNS over HTTPS 是提高互联网用户安全和隐私的进步。DoH 使用 HTTPS 协议对 DNS 查询进行加密，这确保了网络通信的安全。通过将 DNS 查询嵌入客户端和服务器之间的整体加密数据流量中，DoH DNS 提供了显著的隐私优势。它防止第三方看到您试图访问的网站。除了改善隐私外，DoH 还增强了安全性。它有助于防止某些网络攻击，如 DNS 欺骗或窃听。</p><p>DoH 的采用正在增长，许多现代网络浏览器（如 Firefox、Chrome）和操作系统都已集成支持。启用 DoH 连接涉及配置您的网络浏览器或整个设备使用支持 DNS over HTTPS 的 DNS 解析器。</p><h2 class="content-header" id="dns-over-https-doh-在增强隐私和安全方面的重要性"><a href="#dns-over-https-doh-在增强隐私和安全方面的重要性" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>DNS over HTTPS (DoH) 在增强隐私和安全方面的重要性</h2><p>传统的 DNS 查询和响应以明文发送，使其容易受到 DNS 欺骗、窃听、操纵或被黑客拦截的影响。这可能带来重大风险，包括隐私泄露、审查和安全威胁，如中间人攻击。DoH 通过加密 DNS 请求并将其包含在 HTTPS 协议中解决了这些问题。HTTPS 作为 HTTP 的安全版本，使用加密（SSL/TLS）保护用户和服务器之间传输的数据。在互联网访问受到严格监控或限制的地区，加密的 DNS 查询可以绕过某些类型的审查和过滤，使能够访问可能被阻止的信息和网站。</p><p>虽然 DoH 增强了隐私和安全，但选择可信的 DNS 提供商（参见 DNSSEC）很重要，因为提供商将有能力看到您的 DNS 查询。随着其支持、流行度和与浏览器和操作系统的集成，关于集中化风险和潜在滥用的持续讨论，因为提供 DoH 服务的少数几家主要公司可能有权访问有关互联网用户行为的大量数据。</p><h2 class="content-header" id="传统-dns-与-dns-over-httpsdoh对比"><a href="#传统-dns-与-dns-over-httpsdoh对比" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>传统 DNS 与 DNS over HTTPS（DoH）对比</h2><p>传统 DNS 和 DNS over HTTPS 都是将域名解析为 IP 地址的方法，但它们在隐私、安全和实现方面有显著差异。与未加密的 DNS 相比，DNS over HTTPS 在隐私和安全方面提供了显著优势。虽然它需要一些手动配置，但对于许多用户来说，这些好处将超过这些小不便。</p><div class="w-full overflow-x-auto"><table><thead><tr><th>特性</th><th>传统 DNS</th><th>DNS over HTTPS</th></tr></thead><tbody><tr><td><strong>加密</strong></td><td>DNS 查询和响应以明文传输。这意味着任何网络访问者，如恶意行为者，都可以拦截并读取 DNS 查询和响应。</td><td>使用 HTTPS 加密 DNS 查询和响应。这种加密防止窃听和篡改，使 DNS 流量对未授权方不可读。</td></tr><tr><td><strong>隐私</strong></td><td>DNS 查询对网络中介（如 ISP）可见，可用于跟踪用户浏览活动。ISP 和其他实体可能会记录和监控 DNS 请求，以推断用户行为和兴趣。</td><td>通过加密 DNS 查询提供增强的隐私，使 ISP 或其他网络观察者不能轻易监控或记录。有助于防止基于 DNS 流量跟踪用户浏览习惯。</td></tr><tr><td><strong>安全</strong></td><td>容易受到攻击，如 DNS 欺骗或缓存中毒，恶意行为者可以操纵 DNS 响应，将用户重定向到恶意站点。缺乏加密意味着 DNS 响应可以在传输过程中被拦截和更改。</td><td>通过确保 DNS 响应在传输过程中加密且不能被篡改，提高安全性。通过验证 DNS 数据的完整性，防止 DNS 欺骗和缓存中毒。</td></tr><tr><td><strong>性能</strong></td><td>通常表现良好，并在所有网络和设备上得到广泛支持。没有加密开销，相比 DoH 可能具有更低的延迟。</td><td>由于加密和解密过程，可能会引入轻微延迟。在许多情况下，性能影响很小，DoH 甚至可以通过减少 DNS 过滤或拦截提供性能优势。</td></tr><tr><td><strong>实现</strong></td><td>普遍支持，在大多数系统和网络中默认使用。简单配置，基本功能不需要额外设置。</td><td>需要客户端（浏览器或操作系统）和 DNS 解析器的支持。现代浏览器和操作系统越来越多地支持，但可能需要手动配置或更新才能启用。</td></tr><tr><td><strong>集中化和管理</strong></td><td>DNS 流量通常分布在几个 DNS 解析器之间。网络管理员更容易管理和监控 DNS 流量。</td><td>可以通过较少的 DoH 提供商集中 DNS 流量，引发对这些大型实体 DNS 查询集中的担忧。</td></tr><tr><td><strong>用例</strong></td><td>适用于高隐私和安全性不是主要关注点的一般使用。常用于大多数网络和环境中。</td><td>理想用于优先考虑隐私和安全的用户和组织。在需要防止 DNS 监视和篡改的环境中有用。</td></tr><tr><td><strong>可靠性和灵活性</strong></td><td>通过端口 53 操作，依赖分层模型（根、TLD、权威服务器），可能在各个级别容易受到故障和攻击。</td><td>通过端口 443 操作，允许 DoH 流量与常规 HTTPS 流量混合。这使得行为者更难阻止或审查内容，而不干扰所有网络流量。</td></tr></tbody></table></div><h2 class="content-header" id="dns-over-https-的好处"><a href="#dns-over-https-的好处" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>DNS over HTTPS 的好处</h2><p>DNS over HTTPS 相比传统 DNS 提供了几项好处，因为它专注于增强互联网用户的隐私和安全性。</p><h3 class="content-header" id="增强隐私和安全性"><a href="#增强隐私和安全性" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>增强隐私和安全性</h3><p>DNS over HTTPS 因其对 DNS 查询的加密而脱颖而出，这是传统 DNS 协议的显著改进。这种加密确保只有用户和 DNS 解析器可以理解 DNS 查询和响应的内容。DNS 查询用与 HTTPS 流量相同的加密方式包装，这是保护大多数网络流量的协议。这意味着 DNS 查询与其余加密的互联网流量混合在一起，使任何拦截实体更难单独识别和监控用户的 DNS 请求。</p><h3 class="content-header" id="防止窃听"><a href="#防止窃听" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>防止窃听</h3><p>在互联网通信中，窃听是指第三方（如网络攻击者、ISP 甚至政府机构）拦截和监控通过网络传输的数据。使用传统 DNS，这些实体可以轻松查看和记录用户尝试访问的网站，这对隐私和安全构成重大风险。</p><h3 class="content-header" id="保护浏览习惯"><a href="#保护浏览习惯" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>保护浏览习惯</h3><p>DNS over HTTPS 通过防止互联网服务提供商和潜在黑客窥探浏览习惯，显著提高了用户隐私。传统的 DNS 查询以明文进行，这使用户容易受到恶意实体的攻击，并可能泄露用户的浏览习惯和访问过的网站。DoH 通过将 DNS 查询包装在 HTTPS 加密中解决了这些漏洞。</p><h3 class="content-header" id="防止-dns-欺骗和中间人攻击"><a href="#防止-dns-欺骗和中间人攻击" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>防止 DNS 欺骗和中间人攻击</h3><p>DNS 欺骗和中间人攻击是常见的网络攻击，可能导致严重的安全漏洞，包括敏感信息盗窃、恶意软件传播以及重定向到恶意网站。DNS 欺骗，也称为 DNS 缓存中毒，发生在攻击者将损坏的 DNS 数据引入 DNS 解析器的缓存中。这种被操纵的数据误导解析器，即使用户输入合法地址，也将用户引导到欺诈网站。中间人（MitM）攻击发生在攻击者秘密拦截并改变用户和 DNS 解析器之间的通信时。DoH 通过使用加密和 HTTPS 来保护用户与 DNS 解析器之间的通信渠道，从而减轻了这些风险。</p><h2 class="content-header" id="doh-与现代浏览器和操作系统的兼容性和支持"><a href="#doh-与现代浏览器和操作系统的兼容性和支持" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>DoH 与现代浏览器和操作系统的兼容性和支持</h2><p>DNS over HTTPS 在许多现代网络浏览器和操作系统中得到广泛支持和兼容。</p><h3 class="content-header" id="网络浏览器"><a href="#网络浏览器" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>网络浏览器</h3><ul><li><strong>Mozilla Firefox</strong>：Firefox 是采用 DoH 的先驱之一，自 2018 年底开始提供这一选项，但正式在 2020 年 2 月添加。用户可以在浏览器设置中轻松启用 DoH。</li><li><strong>Google Chrome</strong>：Google 也于 2018 年底开始与 Mozilla 一起测试 DoH，但在 2020 年 5 月发布的 Chrome 83 版本中添加了支持。如果用户的 DNS 服务提供商支持 DoH，浏览器会自动升级 DNS 查询。</li><li><strong>Microsoft Edge</strong>：Edge 也支持 DoH，利用相同的 DNS 查询自动升级机制，前提是 DNS 服务提供商支持 DoH。</li><li><strong>Opera</strong>：Opera 浏览器也集成了 DoH 支持，允许用户在设置中启用该功能以保护其 DNS 查询。</li><li><strong>Safari</strong>：苹果的 Safari 也开始采用 DoH 功能，计划通过加密 DNS 查询增强其用户的隐私和安全。</li></ul><h3 class="content-header" id="操作系统"><a href="#操作系统" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>操作系统</h3><ul><li><strong>Windows</strong>：Microsoft 直接将 DoH 纳入 Windows，从 Windows 10 开始。这种操作系统级别的集成意味着 Windows 设备上的所有应用和服务都可以从 DoH 中受益，而无需在应用内部单独支持。</li><li><strong>macOS</strong>：苹果通过更新 macOS，开始集成对加密 DNS 的支持，包括 DoH 和 DNS over TLS（DoT）。这允许用户配置网络设置，使系统所有 DNS 查询都使用 DoH。</li><li><strong>Linux</strong>：虽然 Linux 发行版通常不默认启用 DoH，但有许多工具和解析器，如&quot;systemd-resolved&quot;、&quot;dnscrypt-proxy&quot;和&quot;Cloudflare 的 1.1.1.1&quot;，供 Linux 用户配置使用 DoH。</li><li><strong>Android</strong>：Android 9（Pie）及更新版本支持 DNS over TLS，并且对 DoH 的支持正在增长。这可以通过在网络设置中使用私人 DNS 选项（目前为 DoT）或通过设计用于启用 DoH 的特定应用程序来配置。</li><li><strong>iOS</strong>：从 iOS 14 开始，苹果提供了对加密 DNS（DoH 和 DoT）的支持，允许用户在设备级别或按单独网络配置 DNS 设置。</li></ul><h2 class="content-header" id="dns-over-https-doh-的工作原理"><a href="#dns-over-https-doh-的工作原理" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>DNS over HTTPS (DoH) 的工作原理</h2><p>DNS over HTTPS 通过加密用户设备和 DNS 解析器之间的数据来工作。</p><ol><li><strong>DNS 查询的启动</strong>：当用户尝试访问网站时，浏览器需要将域名解析为 IP 地址。启用 DoH 后，此 DNS 查询不是通过未加密连接发送，而是通过 HTTPS 发出请求。</li><li><strong>查询封装在 HTTPS 中</strong>：DoH 将 DNS 请求封装在标准 HTTPS 请求中，使用 SSL/TLS 加密数据。</li><li><strong>传输到兼容 DoH 的解析器</strong>：加密的 DNS 查询然后发送到支持 DoH 协议的 DNS 解析器。这些解析器负责解释域名到 IP 地址的查询。</li><li><strong>解析器处理查询</strong>：兼容 DoH 的解析器解密 HTTPS 请求以访问 DNS 查询，处理它，找到所请求域名的相应 IP 地址，然后准备 DNS 响应。</li><li><strong>加密响应返回</strong>：解析器将 DNS 响应封装在加密的 HTTPS 响应中，并将其返回给用户的设备。</li><li><strong>浏览器接收并解读响应</strong>：一旦您的设备接收到加密响应，它会解密数据以提取 DNS 信息。浏览器然后使用提供的 IP 地址与托管网站的 Web 服务器建立安全连接。</li><li><strong>持续安全通信</strong>：在初始加密 DNS 解析后，您的 Web 浏览器与网站之间的进一步通信继续加密，保持一个安全连接，保护您的数据免受窃听者侵害。</li></ol><h2 class="content-header" id="doh-和-dot-之间的区别"><a href="#doh-和-dot-之间的区别" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>DoH 和 DoT 之间的区别</h2><p>DNS over HTTPS 和 DNS over TLS（DoT）都是设计用来保护 DNS 查询隐私的安全协议，但它们以略微不同的方式工作，并在互联网连接的不同部分运行。</p><ul><li>DoH 通过 HTTPS 工作，使用端口 443，这是用于安全网络浏览的相同端口。DoT 使用其自己指定的端口 853 来加密 DNS 查询。</li><li>DoH 和 DoT 都加密 DNS 查询，但它们在互联网通信的不同层上进行。DoH 将 DNS 封装在 HTTP 流量中，使其成为 Web 数据的一部分。DoT 在传输层使用 TLS（传输层安全）加密 DNS 查询，但保持 DNS 流量与其他类型的互联网流量分开。</li><li>DoH 可以轻松集成到 Web 浏览器和应用程序中，因为它通过 HTTP 运行。DoT 在操作系统级别或 DNS 服务器上实现。</li><li>由于 DoH 流量与普通 HTTPS 流量无法区分，ISP 或网络上的任何人更难看到或阻止 DNS 查询。由于其独特的端口使用，DoT 可能更容易被阻止。</li><li>与传统的未加密 DNS 查询相比，DoH 和 DoT 都提高了安全性和隐私性。在它们之间的选择可能取决于您对隐私的特定需求、您所在的网络以及您使用的设备和应用程序。</li></ul></div></div><div class="pb-6 pt-6 text-center text-gray-700 dark:text-gray-300" id="comment"></div><footer><div class="flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base"><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" aria-label="Previous post: 为什么 Go 语言的错误处理如此出色" href="/blog/go/why-go-error-handling-is-awesome">← <!-- -->为什么 Go 语言的错误处理如此出色</a></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" aria-label="Next post: DoH恶意流量检测研究" href="/blog/security/doh-research">DoH恶意流量检测研究<!-- --> →</a></div></div></footer></div></div></article></section></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm !text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:mainjaylai@outlook.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg></a><a class="text-sm !text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/mainjaylai"><span class="sr-only">github</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm !text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://gitlab.com/JayMain"><span class="sr-only">gitlab</span><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6" width="200" height="200"><path d="M1022.08 579.712l-57.258667-176.426667-113.664-349.397333a19.413333 19.413333 0 0 0-36.992 0L700.501333 403.2H323.498667L209.877333 53.888C204.074667 35.84 178.56 35.84 172.8 53.76L59.136 403.157333 1.877333 579.712a39.424 39.424 0 0 0 14.122667 43.648L512 983.637333l496-360.234666a39.253333 39.253333 0 0 0 14.08-43.690667"></path></svg></a><a class="text-sm !text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://gitee.com/lmj2001"><span class="sr-only">gitee</span><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6" width="200" height="200"><path d="M512 992C246.895625 992 32 777.104375 32 512S246.895625 32 512 32s480 214.895625 480 480-214.895625 480-480 480z m242.9521875-533.3278125h-272.56875a23.7121875 23.7121875 0 0 0-23.71125 23.7121875l-0.024375 59.255625c0 13.08 10.6078125 23.7121875 23.6878125 23.7121875h165.96c13.104375 0 23.7121875 10.6078125 23.7121875 23.6878125v11.855625a71.1121875 71.1121875 0 0 1-71.1121875 71.1121875h-225.215625a23.7121875 23.7121875 0 0 1-23.6878125-23.7121875V423.1278125a71.1121875 71.1121875 0 0 1 71.0878125-71.1121875h331.824375a23.7121875 23.7121875 0 0 0 23.6878125-23.71125l0.0721875-59.2565625a23.7121875 23.7121875 0 0 0-23.68875-23.7121875H423.08a177.76875 177.76875 0 0 0-177.76875 177.7921875V754.953125c0 13.1034375 10.60875 23.7121875 23.713125 23.7121875h349.63125a159.984375 159.984375 0 0 0 159.984375-159.984375V482.36a23.7121875 23.7121875 0 0 0-23.7121875-23.6878125z"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>MainJayLai</div><div> • </div><div>© 2025</div><div> • </div><a href="/">MainJayLai Blog</a></div></div></footer></div></section><script src="/_next/static/chunks/webpack-8506c16620cf39fb.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/36966cca54120369-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/c890694439b2475b.css\",\"style\"]\n3:HL[\"/_next/static/css/1ea5cf861ee12a80.css\",\"style\"]\n4:HL[\"/_next/static/css/a9b9096fa657c0d0.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"5:I[5751,[],\"\"]\n8:I[9275,[],\"\"]\na:I[1343,[],\"\"]\nb:I[8700,[\"599\",\"static/chunks/ebde5ed1-51545511fe0d5050.js\",\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"850\",\"static/chunks/850-ecf153581cc02044.js\",\"185\",\"static/chunks/app/layout-54bebb918ae7f176.js\"],\"ThemeProviders\"]\nc:I[4080,[\"599\",\"static/chunks/ebde5ed1-51545511fe0d5050.js\",\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"850\",\"static/chunks/850-ecf153581cc02044.js\",\"185\",\"static/chunks/app/layout-54bebb918ae7f176.js\"],\"\"]\nd:I[9032,[\"599\",\"static/chunks/ebde5ed1-51545511fe0d5050.js\",\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"850\",\"static/chunks/850-ecf153581cc02044.js\",\"185\",\"static/chunks/app/layout-54bebb918ae7f176.js\"],\"KBarSearchProvider\"]\ne:I[231,[\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"797\",\"static/chunks/app/blog/%5B...slug%5D/page-bd056182432da53b.js\"],\"\"]\nf:I[8173,[\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"797\",\"static/chunks/app/blog/%5B...slug%5D/page-bd056182432da53b.js\"],\"Image\"]\n10:I[509,[\"599\",\"static/chunks/ebde5ed1-51545511fe0d5050.js\",\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"850\",\"static/chunks/850-ecf153581cc02044.js\",\"185\",\"static/chunks/app/layout-54bebb918ae7f176.js\"],\"KBarButton\"]\n11:I[1398,[\"599\",\"static/chunks/ebde5ed1-51545511fe0d5050.js\",\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"850\",\"static/chunks/850-ecf153581cc02044.js\",\"185\",\"static/chunks/app/layout-54bebb918ae7f176.js\"],\"default\"]\n12:I[7606,[\"599\",\"static/chunks/ebde5ed1-51545511fe0d5050.js\",\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"850\",\"static/chunks/850-ecf153581cc02044.js\",\"185\",\"static/chunks/app/layout-54bebb918ae7f176.js\"],\"default\"]\n13:I[7510,[\"599\",\"static/chunks/ebde5ed1-5"])</script><script>self.__next_f.push([1,"1545511fe0d5050.js\",\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"850\",\"static/chunks/850-ecf153581cc02044.js\",\"185\",\"static/chunks/app/layout-54bebb918ae7f176.js\"],\"default\"]\n14:I[8976,[\"599\",\"static/chunks/ebde5ed1-51545511fe0d5050.js\",\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"850\",\"static/chunks/850-ecf153581cc02044.js\",\"185\",\"static/chunks/app/layout-54bebb918ae7f176.js\"],\"default\"]\n16:I[6130,[],\"\"]\n9:[\"slug\",\"security/what-is-doh\",\"c\"]\n17:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c890694439b2475b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/1ea5cf861ee12a80.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"AO1lBacSEqBfLSl9iFzzQ\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blog/security/what-is-doh\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"security/what-is-doh\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"security\\\",\\\"what-is-doh\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"security/what-is-doh\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L6\",\"$L7\"],null],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a9b9096fa657c0d0.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"en-us\",\"className\":\"__variable_dd5b2f scroll-smooth\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"href\":\"https://mainjaylai.github.io/favicon.png\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/static/favicons/manifest.json\"}],[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#000000\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900\u0026display=swap\",\"rel\":\"stylesheet\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe\u0026family=ZCOOL+QingKe+HuangYou\u0026family=ZCOOL+XiaoWei\u0026display=swap\",\"rel\":\"stylesheet\"}],[\"$\",\"script\",null,{\"src\":\"https://us.umami.is/script.js\",\"async\":true}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: light)\",\"content\":\"#fff\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: dark)\",\"content\":\"#000\"}],[\"$\",\"meta\",null,{\"name\":\"referrer\",\"content\":\"no-referrer\"}],[\"$\",\"script\",null,{\"src\":\"https://cdn.jsdelivr.net/gh/ashishagarwal2023/freegptjs@1.0.2/src/freegpt.min.js\"}],[\"$\",\"link\",null,{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"/feed.xml\"}]]}],[\"$\",\"body\",null,{\"className\":\"bg-white pl-[calc(100vw-100%)] text-black antialiased dark:bg-gray-950 dark:text-white\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[[\"$undefined\",\"$undefined\",\"$undefined\",[\"$\",\"$Lc\",null,{\"async\":true,\"defer\":true,\"data-website-id\":\"bbe21cb3-3de3-4ba7-b6de-453053bc6ae8\",\"src\":\"https://us.umami.is/script.js\"}],\"$undefined\",\"$undefined\"],[\"$\",\"section\",null,{\"className\":\"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex h-screen flex-col justify-between font-sans\",\"children\":[[\"$\",\"$Ld\",null,{\"kbarConfig\":{\"searchDocumentsPath\":\"/search.json\"},\"children\":[[\"$\",\"header\",null,{\"className\":\"flex items-center justify-between py-5\",\"children\":[[\"$\",\"div\",null,{\"children\":[\"$\",\"$Le\",null,{\"href\":\"/\",\"aria-label\":\"Blog\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mr-3\",\"children\":[\"$\",\"$Lf\",null,{\"src\":\"https://mainjaylai.github.io/favicon.png\",\"width\":44,\"height\":44,\"alt\":\"logo\"}]}],[\"$\",\"div\",null,{\"className\":\"hidden h-[44px] text-center text-3xl font-semibold leading-10 sm:block\",\"children\":\"Blog\"}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-4 leading-5 sm:space-x-6\",\"children\":[[[\"$\",\"$Le\",null,{\"href\":\"/blog\",\"className\":\"navbar-item hidden font-medium text-gray-900 dark:text-gray-100 sm:block\",\"children\":\"Blog\"}],[\"$\",\"$Le\",null,{\"href\":\"/tags\",\"className\":\"navbar-item hidden font-medium text-gray-900 dark:text-gray-100 sm:block\",\"children\":\"Tags\"}],[\"$\",\"a\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://mainjaylai.github.io\",\"className\":\"navbar-item hidden font-medium text-gray-900 dark:text-gray-100 sm:block\",\"children\":\"About\"}]],[\"$\",\"$L10\",null,{\"aria-label\":\"Search\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"strokeWidth\":1.5,\"stroke\":\"currentColor\",\"className\":\"h-6 w-6 text-gray-900 dark:text-gray-100\",\"children\":[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\"}]}]}],[\"$\",\"$L11\",null,{}],[\"$\",\"$L12\",null,{}],[\"$\",\"$L13\",null,{}],[\"$\",\"$L14\",null,{}]]}]]}],[\"$\",\"main\",null,{\"className\":\"mb-auto\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-x-2 pb-8 pt-6 md:space-y-5\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-6xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 md:border-r-2 md:px-6 md:text-8xl md:leading-14\",\"children\":\"404\"}]}],[\"$\",\"div\",null,{\"className\":\"max-w-md\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-4 text-xl font-bold leading-normal md:text-2xl\",\"children\":\"Sorry we couldn't find this page.\"}],[\"$\",\"p\",null,{\"className\":\"mb-8\",\"children\":\"But dont worry, you can find plenty of other things on our homepage.\"}],[\"$\",\"$Le\",null,{\"href\":\"/\",\"className\":\"focus:shadow-outline-blue inline rounded-lg border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium leading-5 text-white shadow transition-colors duration-150 hover:bg-blue-700 focus:outline-none dark:hover:bg-blue-500\",\"children\":\"Back to homepage\"}]]}]]}],\"notFoundStyles\":[],\"styles\":null}]}]]}],[\"$\",\"footer\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"mt-16 flex flex-col items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-3 flex space-x-4\",\"children\":[[\"$\",\"a\",null,{\"className\":\"text-sm !text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"mailto:mainjaylai@outlook.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"mail\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z\"}],[\"$\",\"path\",null,{\"d\":\"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z\"}]]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm !text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/mainjaylai\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"github\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm !text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://gitlab.com/JayMain\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"gitlab\"}],[\"$\",\"svg\",null,{\"viewBox\":\"0 0 1024 1024\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"width\":\"200\",\"height\":\"200\",\"children\":[\"$\",\"path\",null,{\"d\":\"M1022.08 579.712l-57.258667-176.426667-113.664-349.397333a19.413333 19.413333 0 0 0-36.992 0L700.501333 403.2H323.498667L209.877333 53.888C204.074667 35.84 178.56 35.84 172.8 53.76L59.136 403.157333 1.877333 579.712a39.424 39.424 0 0 0 14.122667 43.648L512 983.637333l496-360.234666a39.253333 39.253333 0 0 0 14.08-43.690667\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm !text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://gitee.com/lmj2001\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"gitee\"}],[\"$\",\"svg\",null,{\"viewBox\":\"0 0 1024 1024\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"width\":\"200\",\"height\":\"200\",\"children\":[\"$\",\"path\",null,{\"d\":\"M512 992C246.895625 992 32 777.104375 32 512S246.895625 32 512 32s480 214.895625 480 480-214.895625 480-480 480z m242.9521875-533.3278125h-272.56875a23.7121875 23.7121875 0 0 0-23.71125 23.7121875l-0.024375 59.255625c0 13.08 10.6078125 23.7121875 23.6878125 23.7121875h165.96c13.104375 0 23.7121875 10.6078125 23.7121875 23.6878125v11.855625a71.1121875 71.1121875 0 0 1-71.1121875 71.1121875h-225.215625a23.7121875 23.7121875 0 0 1-23.6878125-23.7121875V423.1278125a71.1121875 71.1121875 0 0 1 71.0878125-71.1121875h331.824375a23.7121875 23.7121875 0 0 0 23.6878125-23.71125l0.0721875-59.2565625a23.7121875 23.7121875 0 0 0-23.68875-23.7121875H423.08a177.76875 177.76875 0 0 0-177.76875 177.7921875V754.953125c0 13.1034375 10.60875 23.7121875 23.713125 23.7121875h349.63125a159.984375 159.984375 0 0 0 159.984375-159.984375V482.36a23.7121875 23.7121875 0 0 0-23.7121875-23.6878125z\"}]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400\",\"children\":[[\"$\",\"div\",null,{\"children\":\"MainJayLai\"}],[\"$\",\"div\",null,{\"children\":\" • \"}],[\"$\",\"div\",null,{\"children\":\"© 2025\"}],[\"$\",\"div\",null,{\"children\":\" • \"}],[\"$\",\"$Le\",null,{\"href\":\"/\",\"children\":\"MainJayLai Blog\"}]]}]]}]}]]}]}]]}]}]]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$L15\"],\"globalErrorComponent\":\"$16\",\"missingSlots\":\"$W17\"}]]\n"])</script><script>self.__next_f.push([1,"18:I[4347,[\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"797\",\"static/chunks/app/blog/%5B...slug%5D/page-bd056182432da53b.js\"],\"default\"]\n19:I[9629,[\"231\",\"static/chunks/231-34a6a67d2da26855.js\",\"827\",\"static/chunks/827-69594f61c16b8a9c.js\",\"797\",\"static/chunks/app/blog/%5B...slug%5D/page-bd056182432da53b.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"7:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"DNS over HTTPS (DoH) 简介\\\",\\\"datePublished\\\":\\\"2025-03-31T00:00:00.000Z\\\",\\\"dateModified\\\":\\\"2025-03-31T00:00:00.000Z\\\",\\\"description\\\":\\\"DNS over HTTPS (DoH) 是一种通过 HTTPS 协议加密 DNS 查询的技术，与传统明文 DNS 相比，它显著提升了用户隐私和安全性。DoH 能防止窃听、DNS 欺骗和中间人攻击，保护用户浏览习惯不被追踪。目前已被主流浏览器和操作系统广泛支持，成为互联网安全的重要进步。\\\",\\\"image\\\":\\\"https://pngimg.com/uploads/github/github_PNG80.png\\\",\\\"url\\\":\\\"https://blog.mainjay.cloudns.ch/blog/security/what-is-doh\\\",\\\"author\\\":[{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"mainJayLai\\\"}]}\"}}],[\"$\",\"section\",null,{\"className\":\"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0\",\"children\":[[\"$\",\"$L18\",null,{}],[\"$\",\"article\",null,{\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700\",\"children\":[[\"$\",\"div\",null,{\"className\":\"beautiful-chinese-title\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14\",\"children\":\"DNS over HTTPS (DoH) 简介\"}]}],[\"$\",\"dl\",null,{\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Published on\"}],[\"$\",\"dd\",null,{\"className\":\"text-base font-medium leading-6 text-gray-500 dark:text-gray-400\",\"children\":[\"$\",\"time\",null,{\"dateTime\":\"2025-03-31T00:00:00.000Z\",\"children\":\"March 31, 2025\"}]}]]}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0\",\"children\":[[\"$\",\"div\",null,{\"className\":\"divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"beautiful-chinese-content prose max-w-none pb-8 pt-10 dark:prose-invert\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"什么是-dns\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#什么是-dns\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"什么是 DNS？\"]}],[\"$\",\"p\",null,{\"children\":[\"DNS（域名系统）是互联网基础设施的关键组成部分。DNS 作为一种分布式目录服务，将人类可读的域名转换为机器可读的 IP 地址。当您在浏览器中输入网站地址时，DNS 系统帮助您的浏览器在互联网上找到正确的服务器。当人们输入类似\",[\"$\",\"code\",null,{\"className\":\"custom-code\",\"children\":\"www.test.com\"}],\"这样的名称时，DNS 将域名转换为 IP 地址，以便浏览器可以加载互联网资源。\"]}],[\"$\",\"p\",null,{\"children\":\"DNS 使用分层和分布式数据库来管理域名到 IP 地址的映射。这种层次结构包括根服务器、TLD（顶级域名）服务器和权威 DNS 服务器。为了提高效率和速度，DNS 响应通常在多个级别上被缓存，包括在您的本地机器和 DNS 服务器上，因此对同一域名的重复查询可以更快地解析。\"}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"传统-dns-处理过程\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#传统-dns-处理过程\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"传统 DNS 处理过程\"]}],[\"$\",\"p\",null,{\"children\":\"DNS 过程确保您被引导到与您输入的域名相关联的正确网站。传统的 DNS 处理过程包括以下步骤：\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"用户请求\"}],\"：当您在浏览器中输入域名时，会启动 DNS 查询以查找与该域名相关联的 IP 地址。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"DNS 解析器\"}],\"：您的查询首先发送到 DNS 解析器，通常由您的互联网服务提供商提供。解析器的工作是通过查询其他 DNS 服务器来查找 IP 地址，如果它没有已经缓存的信息。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"根 DNS 服务器\"}],\"：如果解析器没有答案，它会查询根 DNS 服务器之一。根服务器没有 IP 地址，但会将解析器引导到适当的顶级域名（TLD）DNS 服务器（例如.com 或.org）。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"TLD DNS 服务器\"}],\"：TLD 服务器将解析器引导到特定域名的权威 DNS 服务器。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"权威 DNS 服务器\"}],\"：权威服务器保存域名的实际 DNS 记录，提供所请求域名的 IP 地址。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"响应\"}],\"：解析器从权威服务器接收 IP 地址，并将其返回给您的浏览器。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"缓存\"}],\"：解析器和您的浏览器缓存 IP 地址以供将来请求使用，减少重复查找过程的需要。\"]}]]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"与传统-dns-相关的安全风险\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#与传统-dns-相关的安全风险\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"与传统 DNS 相关的安全风险\"]}],[\"$\",\"p\",null,{\"children\":\"传统域名系统（DNS）操作存在几个固有的安全风险。作为互联网基础设施最古老的部分之一，DNS 设计时并没有强大的安全功能，这导致了它在许多形式的网络攻击中被利用。以下是与传统 DNS 相关的一些主要安全风险：\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"DNS 欺骗\"}],\"：这种攻击涉及将虚假地址记录插入 DNS 服务器的缓存中。如果攻击者能够毒化 DNS 缓存，即使用户在浏览器中输入正确的地址，他们也可以在用户不知情的情况下将其重定向到恶意网站。此方法可用于传播恶意软件或进行网络钓鱼攻击以窃取用户信息。\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"中间人（MitM）攻击\"}],\"：由于传统 DNS 查询和响应未加密，它们容易受到窃听和拦截。攻击者可以利用此漏洞将自己插入用户和其 DNS 请求之间，将他们重定向到欺诈性网站或监视他们的互联网活动。\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"DNS 隧道\"}],\"：攻击者可以利用 DNS 查询和响应来走私数据进出网络，绕过传统的网络安全措施，如防火墙。DNS 隧道可用于数据泄露、恶意软件的命令和控制，或绕过互联网使用政策和限制。\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"分布式拒绝服务（DDoS）攻击\"}],\"：DNS 服务器可能成为 DDoS 攻击的目标，通过这种攻击，一个受感染计算机网络（僵尸网络）会用大量查询淹没 DNS 服务器。这可能使 DNS 服务变慢或完全不可用，扰乱合法用户对网站和在线服务的访问。\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"域名劫持\"}],\"：通过利用漏洞或通过社会工程攻击（如网络钓鱼），攻击者可以获取域名的 DNS 设置控制权。然后，他们可以将域名的流量重定向到恶意站点，拦截电子邮件和敏感信息，或破坏对该域名下托管的合法服务的访问。\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"零日漏洞\"}],\"：DNS 查询和响应以明文形式通过网络传输。这使得它们容易被任何有网络访问权限的人拦截，包括 ISP、网络管理员或恶意行为者。攻击者可以捕获和分析 DNS 流量，以监控用户正在访问的网站，可能导致隐私泄露。\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"窃听\"}],\"：DNS 查询和响应以明文形式通过网络传输。这使得它们容易被任何有网络访问权限的人拦截，包括 ISP、网络管理员或恶意行为者。攻击者可以捕获和分析 DNS 流量，以监控用户正在访问的网站，可能导致隐私泄露。\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"DNS 放大攻击\"}],\"：这种类型的 DoS 攻击涉及利用 DNS 基础设施来放大针对目标的流量量。攻击者向开放的 DNS 解析器发送小查询，这些解析器以大量答案作出响应，压倒目标。这可能导致重大服务中断和网络拥塞。\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"DNS 重绑定\"}],\"：DNS 重绑定攻击涉及操纵 DNS 响应，使受害者的浏览器与内部网络地址或服务器通信。这可能将内部网络资源暴露给互联网，可能导致未授权访问或数据泄露。\"]}]}]]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"dns-over-https-doh-介绍\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#dns-over-https-doh-介绍\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"DNS over HTTPS (DoH) 介绍\"]}],[\"$\",\"p\",null,{\"children\":\"DNS over HTTPS 是提高互联网用户安全和隐私的进步。DoH 使用 HTTPS 协议对 DNS 查询进行加密，这确保了网络通信的安全。通过将 DNS 查询嵌入客户端和服务器之间的整体加密数据流量中，DoH DNS 提供了显著的隐私优势。它防止第三方看到您试图访问的网站。除了改善隐私外，DoH 还增强了安全性。它有助于防止某些网络攻击，如 DNS 欺骗或窃听。\"}],[\"$\",\"p\",null,{\"children\":\"DoH 的采用正在增长，许多现代网络浏览器（如 Firefox、Chrome）和操作系统都已集成支持。启用 DoH 连接涉及配置您的网络浏览器或整个设备使用支持 DNS over HTTPS 的 DNS 解析器。\"}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"dns-over-https-doh-在增强隐私和安全方面的重要性\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#dns-over-https-doh-在增强隐私和安全方面的重要性\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"DNS over HTTPS (DoH) 在增强隐私和安全方面的重要性\"]}],[\"$\",\"p\",null,{\"children\":\"传统的 DNS 查询和响应以明文发送，使其容易受到 DNS 欺骗、窃听、操纵或被黑客拦截的影响。这可能带来重大风险，包括隐私泄露、审查和安全威胁，如中间人攻击。DoH 通过加密 DNS 请求并将其包含在 HTTPS 协议中解决了这些问题。HTTPS 作为 HTTP 的安全版本，使用加密（SSL/TLS）保护用户和服务器之间传输的数据。在互联网访问受到严格监控或限制的地区，加密的 DNS 查询可以绕过某些类型的审查和过滤，使能够访问可能被阻止的信息和网站。\"}],[\"$\",\"p\",null,{\"children\":\"虽然 DoH 增强了隐私和安全，但选择可信的 DNS 提供商（参见 DNSSEC）很重要，因为提供商将有能力看到您的 DNS 查询。随着其支持、流行度和与浏览器和操作系统的集成，关于集中化风险和潜在滥用的持续讨论，因为提供 DoH 服务的少数几家主要公司可能有权访问有关互联网用户行为的大量数据。\"}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"传统-dns-与-dns-over-httpsdoh对比\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#传统-dns-与-dns-over-httpsdoh对比\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"传统 DNS 与 DNS over HTTPS（DoH）对比\"]}],[\"$\",\"p\",null,{\"children\":\"传统 DNS 和 DNS over HTTPS 都是将域名解析为 IP 地址的方法，但它们在隐私、安全和实现方面有显著差异。与未加密的 DNS 相比，DNS over HTTPS 在隐私和安全方面提供了显著优势。虽然它需要一些手动配置，但对于许多用户来说，这些好处将超过这些小不便。\"}],[\"$\",\"div\",null,{\"className\":\"w-full overflow-x-auto\",\"children\":[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"特性\"}],[\"$\",\"th\",null,{\"children\":\"传统 DNS\"}],[\"$\",\"th\",null,{\"children\":\"DNS over HTTPS\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"加密\"}]}],[\"$\",\"td\",null,{\"children\":\"DNS 查询和响应以明文传输。这意味着任何网络访问者，如恶意行为者，都可以拦截并读取 DNS 查询和响应。\"}],[\"$\",\"td\",null,{\"children\":\"使用 HTTPS 加密 DNS 查询和响应。这种加密防止窃听和篡改，使 DNS 流量对未授权方不可读。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"隐私\"}]}],[\"$\",\"td\",null,{\"children\":\"DNS 查询对网络中介（如 ISP）可见，可用于跟踪用户浏览活动。ISP 和其他实体可能会记录和监控 DNS 请求，以推断用户行为和兴趣。\"}],[\"$\",\"td\",null,{\"children\":\"通过加密 DNS 查询提供增强的隐私，使 ISP 或其他网络观察者不能轻易监控或记录。有助于防止基于 DNS 流量跟踪用户浏览习惯。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"安全\"}]}],[\"$\",\"td\",null,{\"children\":\"容易受到攻击，如 DNS 欺骗或缓存中毒，恶意行为者可以操纵 DNS 响应，将用户重定向到恶意站点。缺乏加密意味着 DNS 响应可以在传输过程中被拦截和更改。\"}],[\"$\",\"td\",null,{\"children\":\"通过确保 DNS 响应在传输过程中加密且不能被篡改，提高安全性。通过验证 DNS 数据的完整性，防止 DNS 欺骗和缓存中毒。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"性能\"}]}],[\"$\",\"td\",null,{\"children\":\"通常表现良好，并在所有网络和设备上得到广泛支持。没有加密开销，相比 DoH 可能具有更低的延迟。\"}],[\"$\",\"td\",null,{\"children\":\"由于加密和解密过程，可能会引入轻微延迟。在许多情况下，性能影响很小，DoH 甚至可以通过减少 DNS 过滤或拦截提供性能优势。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"实现\"}]}],[\"$\",\"td\",null,{\"children\":\"普遍支持，在大多数系统和网络中默认使用。简单配置，基本功能不需要额外设置。\"}],[\"$\",\"td\",null,{\"children\":\"需要客户端（浏览器或操作系统）和 DNS 解析器的支持。现代浏览器和操作系统越来越多地支持，但可能需要手动配置或更新才能启用。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"集中化和管理\"}]}],[\"$\",\"td\",null,{\"children\":\"DNS 流量通常分布在几个 DNS 解析器之间。网络管理员更容易管理和监控 DNS 流量。\"}],[\"$\",\"td\",null,{\"children\":\"可以通过较少的 DoH 提供商集中 DNS 流量，引发对这些大型实体 DNS 查询集中的担忧。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"用例\"}]}],[\"$\",\"td\",null,{\"children\":\"适用于高隐私和安全性不是主要关注点的一般使用。常用于大多数网络和环境中。\"}],[\"$\",\"td\",null,{\"children\":\"理想用于优先考虑隐私和安全的用户和组织。在需要防止 DNS 监视和篡改的环境中有用。\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"可靠性和灵活性\"}]}],[\"$\",\"td\",null,{\"children\":\"通过端口 53 操作，依赖分层模型（根、TLD、权威服务器），可能在各个级别容易受到故障和攻击。\"}],[\"$\",\"td\",null,{\"children\":\"通过端口 443 操作，允许 DoH 流量与常规 HTTPS 流量混合。这使得行为者更难阻止或审查内容，而不干扰所有网络流量。\"}]]}]]}]]}]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"dns-over-https-的好处\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#dns-over-https-的好处\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"DNS over HTTPS 的好处\"]}],[\"$\",\"p\",null,{\"children\":\"DNS over HTTPS 相比传统 DNS 提供了几项好处，因为它专注于增强互联网用户的隐私和安全性。\"}],[\"$\",\"h3\",null,{\"className\":\"content-header\",\"id\":\"增强隐私和安全性\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#增强隐私和安全性\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"增强隐私和安全性\"]}],[\"$\",\"p\",null,{\"children\":\"DNS over HTTPS 因其对 DNS 查询的加密而脱颖而出，这是传统 DNS 协议的显著改进。这种加密确保只有用户和 DNS 解析器可以理解 DNS 查询和响应的内容。DNS 查询用与 HTTPS 流量相同的加密方式包装，这是保护大多数网络流量的协议。这意味着 DNS 查询与其余加密的互联网流量混合在一起，使任何拦截实体更难单独识别和监控用户的 DNS 请求。\"}],[\"$\",\"h3\",null,{\"className\":\"content-header\",\"id\":\"防止窃听\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#防止窃听\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"防止窃听\"]}],[\"$\",\"p\",null,{\"children\":\"在互联网通信中，窃听是指第三方（如网络攻击者、ISP 甚至政府机构）拦截和监控通过网络传输的数据。使用传统 DNS，这些实体可以轻松查看和记录用户尝试访问的网站，这对隐私和安全构成重大风险。\"}],[\"$\",\"h3\",null,{\"className\":\"content-header\",\"id\":\"保护浏览习惯\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#保护浏览习惯\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"保护浏览习惯\"]}],[\"$\",\"p\",null,{\"children\":\"DNS over HTTPS 通过防止互联网服务提供商和潜在黑客窥探浏览习惯，显著提高了用户隐私。传统的 DNS 查询以明文进行，这使用户容易受到恶意实体的攻击，并可能泄露用户的浏览习惯和访问过的网站。DoH 通过将 DNS 查询包装在 HTTPS 加密中解决了这些漏洞。\"}],[\"$\",\"h3\",null,{\"className\":\"content-header\",\"id\":\"防止-dns-欺骗和中间人攻击\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#防止-dns-欺骗和中间人攻击\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"防止 DNS 欺骗和中间人攻击\"]}],[\"$\",\"p\",null,{\"children\":\"DNS 欺骗和中间人攻击是常见的网络攻击，可能导致严重的安全漏洞，包括敏感信息盗窃、恶意软件传播以及重定向到恶意网站。DNS 欺骗，也称为 DNS 缓存中毒，发生在攻击者将损坏的 DNS 数据引入 DNS 解析器的缓存中。这种被操纵的数据误导解析器，即使用户输入合法地址，也将用户引导到欺诈网站。中间人（MitM）攻击发生在攻击者秘密拦截并改变用户和 DNS 解析器之间的通信时。DoH 通过使用加密和 HTTPS 来保护用户与 DNS 解析器之间的通信渠道，从而减轻了这些风险。\"}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"doh-与现代浏览器和操作系统的兼容性和支持\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#doh-与现代浏览器和操作系统的兼容性和支持\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"DoH 与现代浏览器和操作系统的兼容性和支持\"]}],[\"$\",\"p\",null,{\"children\":\"DNS over HTTPS 在许多现代网络浏览器和操作系统中得到广泛支持和兼容。\"}],[\"$\",\"h3\",null,{\"className\":\"content-header\",\"id\":\"网络浏览器\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#网络浏览器\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"网络浏览器\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Mozilla Firefox\"}],\"：Firefox 是采用 DoH 的先驱之一，自 2018 年底开始提供这一选项，但正式在 2020 年 2 月添加。用户可以在浏览器设置中轻松启用 DoH。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Google Chrome\"}],\"：Google 也于 2018 年底开始与 Mozilla 一起测试 DoH，但在 2020 年 5 月发布的 Chrome 83 版本中添加了支持。如果用户的 DNS 服务提供商支持 DoH，浏览器会自动升级 DNS 查询。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Microsoft Edge\"}],\"：Edge 也支持 DoH，利用相同的 DNS 查询自动升级机制，前提是 DNS 服务提供商支持 DoH。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Opera\"}],\"：Opera 浏览器也集成了 DoH 支持，允许用户在设置中启用该功能以保护其 DNS 查询。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Safari\"}],\"：苹果的 Safari 也开始采用 DoH 功能，计划通过加密 DNS 查询增强其用户的隐私和安全。\"]}]]}],[\"$\",\"h3\",null,{\"className\":\"content-header\",\"id\":\"操作系统\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#操作系统\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"操作系统\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Windows\"}],\"：Microsoft 直接将 DoH 纳入 Windows，从 Windows 10 开始。这种操作系统级别的集成意味着 Windows 设备上的所有应用和服务都可以从 DoH 中受益，而无需在应用内部单独支持。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"macOS\"}],\"：苹果通过更新 macOS，开始集成对加密 DNS 的支持，包括 DoH 和 DNS over TLS（DoT）。这允许用户配置网络设置，使系统所有 DNS 查询都使用 DoH。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Linux\"}],\"：虽然 Linux 发行版通常不默认启用 DoH，但有许多工具和解析器，如\\\"systemd-resolved\\\"、\\\"dnscrypt-proxy\\\"和\\\"Cloudflare 的 1.1.1.1\\\"，供 Linux 用户配置使用 DoH。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Android\"}],\"：Android 9（Pie）及更新版本支持 DNS over TLS，并且对 DoH 的支持正在增长。这可以通过在网络设置中使用私人 DNS 选项（目前为 DoT）或通过设计用于启用 DoH 的特定应用程序来配置。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"iOS\"}],\"：从 iOS 14 开始，苹果提供了对加密 DNS（DoH 和 DoT）的支持，允许用户在设备级别或按单独网络配置 DNS 设置。\"]}]]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"dns-over-https-doh-的工作原理\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#dns-over-https-doh-的工作原理\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"DNS over HTTPS (DoH) 的工作原理\"]}],[\"$\",\"p\",null,{\"children\":\"DNS over HTTPS 通过加密用户设备和 DNS 解析器之间的数据来工作。\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"DNS 查询的启动\"}],\"：当用户尝试访问网站时，浏览器需要将域名解析为 IP 地址。启用 DoH 后，此 DNS 查询不是通过未加密连接发送，而是通过 HTTPS 发出请求。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"查询封装在 HTTPS 中\"}],\"：DoH 将 DNS 请求封装在标准 HTTPS 请求中，使用 SSL/TLS 加密数据。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"传输到兼容 DoH 的解析器\"}],\"：加密的 DNS 查询然后发送到支持 DoH 协议的 DNS 解析器。这些解析器负责解释域名到 IP 地址的查询。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"解析器处理查询\"}],\"：兼容 DoH 的解析器解密 HTTPS 请求以访问 DNS 查询，处理它，找到所请求域名的相应 IP 地址，然后准备 DNS 响应。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"加密响应返回\"}],\"：解析器将 DNS 响应封装在加密的 HTTPS 响应中，并将其返回给用户的设备。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"浏览器接收并解读响应\"}],\"：一旦您的设备接收到加密响应，它会解密数据以提取 DNS 信息。浏览器然后使用提供的 IP 地址与托管网站的 Web 服务器建立安全连接。\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"持续安全通信\"}],\"：在初始加密 DNS 解析后，您的 Web 浏览器与网站之间的进一步通信继续加密，保持一个安全连接，保护您的数据免受窃听者侵害。\"]}]]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"doh-和-dot-之间的区别\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#doh-和-dot-之间的区别\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"DoH 和 DoT 之间的区别\"]}],[\"$\",\"p\",null,{\"children\":\"DNS over HTTPS 和 DNS over TLS（DoT）都是设计用来保护 DNS 查询隐私的安全协议，但它们以略微不同的方式工作，并在互联网连接的不同部分运行。\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":\"DoH 通过 HTTPS 工作，使用端口 443，这是用于安全网络浏览的相同端口。DoT 使用其自己指定的端口 853 来加密 DNS 查询。\"}],[\"$\",\"li\",null,{\"children\":\"DoH 和 DoT 都加密 DNS 查询，但它们在互联网通信的不同层上进行。DoH 将 DNS 封装在 HTTP 流量中，使其成为 Web 数据的一部分。DoT 在传输层使用 TLS（传输层安全）加密 DNS 查询，但保持 DNS 流量与其他类型的互联网流量分开。\"}],[\"$\",\"li\",null,{\"children\":\"DoH 可以轻松集成到 Web 浏览器和应用程序中，因为它通过 HTTP 运行。DoT 在操作系统级别或 DNS 服务器上实现。\"}],[\"$\",\"li\",null,{\"children\":\"由于 DoH 流量与普通 HTTPS 流量无法区分，ISP 或网络上的任何人更难看到或阻止 DNS 查询。由于其独特的端口使用，DoT 可能更容易被阻止。\"}],[\"$\",\"li\",null,{\"children\":\"与传统的未加密 DNS 查询相比，DoH 和 DoT 都提高了安全性和隐私性。在它们之间的选择可能取决于您对隐私的特定需求、您所在的网络以及您使用的设备和应用程序。\"}]]}]]}]}],[\"$\",\"div\",null,{\"className\":\"pb-6 pt-6 text-center text-gray-700 dark:text-gray-300\",\"id\":\"comment\",\"children\":[\"$\",\"$L19\",null,{\"slug\":\"security/what-is-doh\"}]}],[\"$\",\"footer\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base\",\"children\":[[\"$\",\"div\",null,{\"className\":\"pt-4 xl:pt-8\",\"children\":[\"$\",\"$Le\",null,{\"href\":\"/blog/go/why-go-error-handling-is-awesome\",\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"aria-label\":\"Previous post: 为什么 Go 语言的错误处理如此出色\",\"children\":[\"← \",\"为什么 Go 语言的错误处理如此出色\"]}]}],[\"$\",\"div\",null,{\"className\":\"pt-4 xl:pt-8\",\"children\":[\"$\",\"$Le\",null,{\"href\":\"/blog/security/doh-research\",\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"aria-label\":\"Next post: DoH恶意流量检测研究\",\"children\":[\"DoH恶意流量检测研究\",\" →\"]}]}]]}]}]]}]]}]}]]}]]\n"])</script><script>self.__next_f.push([1,"15:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"DNS over HTTPS (DoH) 简介\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"DNS over HTTPS (DoH) 是一种通过 HTTPS 协议加密 DNS 查询的技术，与传统明文 DNS 相比，它显著提升了用户隐私和安全性。DoH 能防止窃听、DNS 欺骗和中间人攻击，保护用户浏览习惯不被追踪。目前已被主流浏览器和操作系统广泛支持，成为互联网安全的重要进步。\"}],[\"$\",\"meta\",\"4\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"5\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"6\",{\"rel\":\"canonical\",\"href\":\"https://blog.mainjay.cloudns.ch/blog/security/what-is-doh\"}],[\"$\",\"link\",\"7\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://blog.mainjay.cloudns.ch/feed.xml\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:title\",\"content\":\"DNS over HTTPS (DoH) 简介\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:description\",\"content\":\"DNS over HTTPS (DoH) 是一种通过 HTTPS 协议加密 DNS 查询的技术，与传统明文 DNS 相比，它显著提升了用户隐私和安全性。DoH 能防止窃听、DNS 欺骗和中间人攻击，保护用户浏览习惯不被追踪。目前已被主流浏览器和操作系统广泛支持，成为互联网安全的重要进步。\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:url\",\"content\":\"https://blog.mainjay.cloudns.ch/blog/security/what-is-doh\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:site_name\",\"content\":\"MainJayLai Blog\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image\",\"content\":\"https://pngimg.com/uploads/github/github_PNG80.png\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"15\",{\"property\":\"article:published_time\",\"content\":\"2025-03-31T00:00:00.000Z\"}],[\"$\",\"meta\",\"16\",{\"property\":\"article:modified_time\",\"content\":\"2025-03-31T00:00:00.000Z\"}],[\"$\",\"meta\",\"17\",{\"property\":\"article:author\",\"content\":\"mainJayLai\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:title\",\"content\":\"DNS over HTTPS (DoH) 简介\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:description\",\"content\":\"DNS over HTTPS (DoH) 是一种通过 HTTPS 协议加密 DNS 查询的技术，与传统明文 DNS 相比，它显著提升了用户隐私和安全性。DoH 能防止窃听、DNS 欺骗和中间人攻击，保护用户浏览习惯不被追踪。目前已被主流浏览器和操作系统广泛支持，成为互联网安全的重要进步。\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:image\",\"content\":\"https://pngimg.com/uploads/github/github_PNG80.png\"}],[\"$\",\"meta\",\"22\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script></body></html>