3:I[9275,[],""]
5:I[1343,[],""]
6:I[8700,["599","static/chunks/ebde5ed1-51545511fe0d5050.js","231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","850","static/chunks/850-ecf153581cc02044.js","185","static/chunks/app/layout-54bebb918ae7f176.js"],"ThemeProviders"]
7:I[4080,["599","static/chunks/ebde5ed1-51545511fe0d5050.js","231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","850","static/chunks/850-ecf153581cc02044.js","185","static/chunks/app/layout-54bebb918ae7f176.js"],""]
8:I[9032,["599","static/chunks/ebde5ed1-51545511fe0d5050.js","231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","850","static/chunks/850-ecf153581cc02044.js","185","static/chunks/app/layout-54bebb918ae7f176.js"],"KBarSearchProvider"]
9:I[231,["231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","797","static/chunks/app/blog/%5B...slug%5D/page-bd056182432da53b.js"],""]
a:I[8173,["231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","797","static/chunks/app/blog/%5B...slug%5D/page-bd056182432da53b.js"],"Image"]
b:I[509,["599","static/chunks/ebde5ed1-51545511fe0d5050.js","231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","850","static/chunks/850-ecf153581cc02044.js","185","static/chunks/app/layout-54bebb918ae7f176.js"],"KBarButton"]
c:I[1398,["599","static/chunks/ebde5ed1-51545511fe0d5050.js","231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","850","static/chunks/850-ecf153581cc02044.js","185","static/chunks/app/layout-54bebb918ae7f176.js"],"default"]
d:I[7606,["599","static/chunks/ebde5ed1-51545511fe0d5050.js","231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","850","static/chunks/850-ecf153581cc02044.js","185","static/chunks/app/layout-54bebb918ae7f176.js"],"default"]
e:I[7510,["599","static/chunks/ebde5ed1-51545511fe0d5050.js","231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","850","static/chunks/850-ecf153581cc02044.js","185","static/chunks/app/layout-54bebb918ae7f176.js"],"default"]
f:I[8976,["599","static/chunks/ebde5ed1-51545511fe0d5050.js","231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","850","static/chunks/850-ecf153581cc02044.js","185","static/chunks/app/layout-54bebb918ae7f176.js"],"default"]
4:["slug","backend/kafka-object-storage","c"]
0:["AO1lBacSEqBfLSl9iFzzQ",[[["",{"children":["blog",{"children":[["slug","backend/kafka-object-storage","c"],{"children":["__PAGE__?{\"slug\":[\"backend\",\"kafka-object-storage\"]}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","backend/kafka-object-storage","c"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a9b9096fa657c0d0.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en-us","className":"__variable_dd5b2f scroll-smooth","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","link",null,{"rel":"icon","type":"image/png","href":"https://mainjaylai.github.io/favicon.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/manifest.json"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#000000"}],["$","link",null,{"href":"https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200..900&display=swap","rel":"stylesheet"}],["$","link",null,{"href":"https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=ZCOOL+QingKe+HuangYou&family=ZCOOL+XiaoWei&display=swap","rel":"stylesheet"}],["$","script",null,{"src":"https://us.umami.is/script.js","async":true}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#fff"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#000"}],["$","meta",null,{"name":"referrer","content":"no-referrer"}],["$","script",null,{"src":"https://cdn.jsdelivr.net/gh/ashishagarwal2023/freegptjs@1.0.2/src/freegpt.min.js"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}]]}],["$","body",null,{"className":"bg-white pl-[calc(100vw-100%)] text-black antialiased dark:bg-gray-950 dark:text-white","suppressHydrationWarning":true,"children":["$","$L6",null,{"children":[["$undefined","$undefined","$undefined",["$","$L7",null,{"async":true,"defer":true,"data-website-id":"bbe21cb3-3de3-4ba7-b6de-453053bc6ae8","src":"https://us.umami.is/script.js"}],"$undefined","$undefined"],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":["$","div",null,{"className":"flex h-screen flex-col justify-between font-sans","children":[["$","$L8",null,{"kbarConfig":{"searchDocumentsPath":"/search.json"},"children":[["$","header",null,{"className":"flex items-center justify-between py-5","children":[["$","div",null,{"children":["$","$L9",null,{"href":"/","aria-label":"Blog","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","$La",null,{"src":"https://mainjaylai.github.io/favicon.png","width":44,"height":44,"alt":"logo"}]}],["$","div",null,{"className":"hidden h-[44px] text-center text-3xl font-semibold leading-10 sm:block","children":"Blog"}]]}]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:space-x-6","children":[[["$","$L9",null,{"href":"/blog","className":"navbar-item hidden font-medium text-gray-900 dark:text-gray-100 sm:block","children":"Blog"}],["$","$L9",null,{"href":"/tags","className":"navbar-item hidden font-medium text-gray-900 dark:text-gray-100 sm:block","children":"Tags"}],["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://mainjaylai.github.io","className":"navbar-item hidden font-medium text-gray-900 dark:text-gray-100 sm:block","children":"About"}]],["$","$Lb",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"h-6 w-6 text-gray-900 dark:text-gray-100","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","$Lc",null,{}],["$","$Ld",null,{}],["$","$Le",null,{}],["$","$Lf",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6","children":[["$","div",null,{"className":"space-x-2 pb-8 pt-6 md:space-y-5","children":["$","h1",null,{"className":"text-6xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 md:border-r-2 md:px-6 md:text-8xl md:leading-14","children":"404"}]}],["$","div",null,{"className":"max-w-md","children":[["$","p",null,{"className":"mb-4 text-xl font-bold leading-normal md:text-2xl","children":"Sorry we couldn't find this page."}],["$","p",null,{"className":"mb-8","children":"But dont worry, you can find plenty of other things on our homepage."}],["$","$L9",null,{"href":"/","className":"focus:shadow-outline-blue inline rounded-lg border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium leading-5 text-white shadow transition-colors duration-150 hover:bg-blue-700 focus:outline-none dark:hover:bg-blue-500","children":"Back to homepage"}]]}]]}],"notFoundStyles":[],"styles":null}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-16 flex flex-col items-center","children":[["$","div",null,{"className":"mb-3 flex space-x-4","children":[["$","a",null,{"className":"text-sm !text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"mailto:mainjaylai@outlook.com","children":[["$","span",null,{"className":"sr-only","children":"mail"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 20 20","className":"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6","children":[["$","path",null,{"d":"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}],["$","path",null,{"d":"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}]]}]]}],["$","a",null,{"className":"text-sm !text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/mainjaylai","children":[["$","span",null,{"className":"sr-only","children":"github"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6","children":["$","path",null,{"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}]}]]}],["$","a",null,{"className":"text-sm !text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://gitlab.com/JayMain","children":[["$","span",null,{"className":"sr-only","children":"gitlab"}],["$","svg",null,{"viewBox":"0 0 1024 1024","xmlns":"http://www.w3.org/2000/svg","className":"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6","width":"200","height":"200","children":["$","path",null,{"d":"M1022.08 579.712l-57.258667-176.426667-113.664-349.397333a19.413333 19.413333 0 0 0-36.992 0L700.501333 403.2H323.498667L209.877333 53.888C204.074667 35.84 178.56 35.84 172.8 53.76L59.136 403.157333 1.877333 579.712a39.424 39.424 0 0 0 14.122667 43.648L512 983.637333l496-360.234666a39.253333 39.253333 0 0 0 14.08-43.690667"}]}]]}],["$","a",null,{"className":"text-sm !text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://gitee.com/lmj2001","children":[["$","span",null,{"className":"sr-only","children":"gitee"}],["$","svg",null,{"viewBox":"0 0 1024 1024","xmlns":"http://www.w3.org/2000/svg","className":"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6","width":"200","height":"200","children":["$","path",null,{"d":"M512 992C246.895625 992 32 777.104375 32 512S246.895625 32 512 32s480 214.895625 480 480-214.895625 480-480 480z m242.9521875-533.3278125h-272.56875a23.7121875 23.7121875 0 0 0-23.71125 23.7121875l-0.024375 59.255625c0 13.08 10.6078125 23.7121875 23.6878125 23.7121875h165.96c13.104375 0 23.7121875 10.6078125 23.7121875 23.6878125v11.855625a71.1121875 71.1121875 0 0 1-71.1121875 71.1121875h-225.215625a23.7121875 23.7121875 0 0 1-23.6878125-23.7121875V423.1278125a71.1121875 71.1121875 0 0 1 71.0878125-71.1121875h331.824375a23.7121875 23.7121875 0 0 0 23.6878125-23.71125l0.0721875-59.2565625a23.7121875 23.7121875 0 0 0-23.68875-23.7121875H423.08a177.76875 177.76875 0 0 0-177.76875 177.7921875V754.953125c0 13.1034375 10.60875 23.7121875 23.713125 23.7121875h349.63125a159.984375 159.984375 0 0 0 159.984375-159.984375V482.36a23.7121875 23.7121875 0 0 0-23.7121875-23.6878125z"}]}]]}]]}],["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":"MainJayLai"}],["$","div",null,{"children":" â€¢ "}],["$","div",null,{"children":"Â© 2025"}],["$","div",null,{"children":" â€¢ "}],["$","$L9",null,{"href":"/","children":"MainJayLai Blog"}]]}]]}]}]]}]}]]}]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c890694439b2475b.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/1ea5cf861ee12a80.css","precedence":"next","crossOrigin":"$undefined"}]],"$L10"]]]]
11:I[4347,["231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","797","static/chunks/app/blog/%5B...slug%5D/page-bd056182432da53b.js"],"default"]
12:I[9629,["231","static/chunks/231-34a6a67d2da26855.js","827","static/chunks/827-69594f61c16b8a9c.js","797","static/chunks/app/blog/%5B...slug%5D/page-bd056182432da53b.js"],"default"]
2:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"å¦‚ä½•è®© Kafka å®Œå…¨è¿è¡Œåœ¨å¯¹è±¡å­˜å‚¨ä¸Šï¼Ÿ\",\"datePublished\":\"2024-11-28T00:00:00.000Z\",\"dateModified\":\"2024-11-28T00:00:00.000Z\",\"description\":\"æ–‡ç« ä»‹ç»äº† AutoMQ å¦‚ä½•é€šè¿‡åˆ›æ–°çš„å­˜å‚¨æ¶æ„,è®© Kafka å®Œå…¨è¿è¡Œåœ¨å¯¹è±¡å­˜å‚¨ä¸Šã€‚å®ƒé€šè¿‡å †å¤–ç¼“å­˜å¤„ç†å®æ—¶è¯»å†™,ä½¿ç”¨ EBS ä½œä¸ºé¢„å†™æ—¥å¿—ç¡®ä¿å¯é æ€§,å¹¶å°†æ‰€æœ‰æ•°æ®æœ€ç»ˆå­˜å‚¨åœ¨å¯¹è±¡å­˜å‚¨ä¸­ã€‚è¿™ç§è®¾è®¡æ—¢ä¿æŒäº† Kafka çš„é«˜æ€§èƒ½,åˆè§£å†³äº†ä¼ ç»Ÿ Kafka å­˜å‚¨æ‰©å±•çš„å±€é™æ€§ã€‚\",\"image\":\"https://pngimg.com/uploads/github/github_PNG80.png\",\"url\":\"https://blog.mainjay.cloudns.ch/blog/backend/kafka-object-storage\",\"author\":[{\"@type\":\"Person\",\"name\":\"mainJayLai\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":[["$","$L11",null,{}],["$","article",null,{"children":["$","div",null,{"children":[["$","header",null,{"children":["$","div",null,{"className":"space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700","children":[["$","div",null,{"className":"beautiful-chinese-title","children":["$","h1",null,{"className":"text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14","children":"å¦‚ä½•è®© Kafka å®Œå…¨è¿è¡Œåœ¨å¯¹è±¡å­˜å‚¨ä¸Šï¼Ÿ"}]}],["$","dl",null,{"children":["$","div",null,{"children":[["$","dt",null,{"className":"sr-only","children":"Published on"}],["$","dd",null,{"className":"text-base font-medium leading-6 text-gray-500 dark:text-gray-400","children":["$","time",null,{"dateTime":"2024-11-28T00:00:00.000Z","children":"November 28, 2024"}]}]]}]}]]}]}],["$","div",null,{"className":"grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0","children":[["$","div",null,{"className":"divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0","children":["$","div",null,{"className":"beautiful-chinese-content prose max-w-none pb-8 pt-10 dark:prose-invert","children":[["$","h2",null,{"className":"content-header","id":"æ¦‚è¿°","children":[["$","a",null,{"href":"#æ¦‚è¿°","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"æ¦‚è¿°"]}],["$","p",null,{"children":"åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ Kafka çš„è®¾è®¡ã€‚æ¶ˆæ¯ç³»ç»Ÿä½¿ç”¨æ“ä½œç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œå¹¶åˆ©ç”¨å†…æ ¸é¡µé¢ç¼“å­˜æœºåˆ¶ã€‚ç³»ç»Ÿä¸æ˜¯è¯•å›¾å°†å°½å¯èƒ½å¤šçš„æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­å¹¶å°†å…¶åˆ·æ–°åˆ°æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œæ˜¯å°†æ‰€æœ‰æ•°æ®ä¼ è¾“åˆ°é¡µé¢ç¼“å­˜ï¼Œç„¶åå†åˆ·æ–°åˆ°ç£ç›˜ã€‚æ‰€æœ‰æ¶ˆæ¯çš„å†™å…¥å’Œè¯»å–æ“ä½œéƒ½å¿…é¡»é€šè¿‡é¡µé¢ç¼“å­˜ã€‚"}],["$","blockquote",null,{"children":["$","p",null,{"children":"ç°ä»£æ“ä½œç³»ç»Ÿé€šå¸¸ä¼šå€Ÿç”¨æœªä½¿ç”¨çš„å†…å­˜ï¼ˆRAMï¼‰éƒ¨åˆ†ä½œä¸ºé¡µé¢ç¼“å­˜ã€‚ç»å¸¸ä½¿ç”¨çš„ç£ç›˜æ•°æ®ä¼šè¢«å¡«å……åˆ°è¿™ä¸ªç¼“å­˜ä¸­ï¼Œé¿å…è¿‡äºé¢‘ç¹åœ°ç›´æ¥è®¿é—®ç£ç›˜ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚"}]}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture1.webp","alt":"Maple","width":"1224","height":"774"}]," Apache Kafkaç´§å¯†è€¦åˆçš„æ¶æ„"]}]}],["$","p",null,{"children":["è¿™ç§è®¾è®¡å°†è®¡ç®—å’Œå­˜å‚¨ç´§å¯†è€¦åˆï¼Œè¿™æ„å‘³ç€",["$","strong",null,{"children":"æ·»åŠ æ›´å¤šæœºå™¨æ˜¯æ‰©å±•å­˜å‚¨çš„å”¯ä¸€æ–¹å¼"}],"ã€‚å¦‚æœéœ€è¦æ›´å¤šç£ç›˜ç©ºé—´ï¼Œå°±å¿…é¡»æ·»åŠ æ›´å¤š CPU å’Œ RAMï¼Œè¿™å¯èƒ½å¯¼è‡´èµ„æºæµªè´¹ã€‚"]}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture2.webp","alt":"Maple","width":"743","height":"780"}]," Apache Kafkaåˆ†å±‚å­˜å‚¨"]}]}],["$","p",null,{"children":["åœ¨ç»å†äº†ç”±äº Kafka ç´§å¯†çš„è®¡ç®—-å­˜å‚¨è®¾è®¡è€Œå¯¼è‡´çš„å¼¹æ€§å’Œèµ„æºåˆ©ç”¨é—®é¢˜åï¼ŒUber æå‡ºäº† ",["$","strong",null,{"children":"Kafka åˆ†å±‚å­˜å‚¨"}],"ï¼ˆ",["$","a",null,{"target":"_blank","rel":"noopener noreferrer","href":"https://cwiki.apache.org/confluence/display/KAFKA/KIP-405%3A+Kafka+Tiered+Storage","children":"KIP-405"}],"ï¼‰ä»¥é¿å… Kafka çš„ç´§è€¦åˆè®¾è®¡ã€‚ä¸»è¦æ€æƒ³æ˜¯ä»£ç†å°†å…·æœ‰ä¸¤å±‚å­˜å‚¨ï¼šæœ¬åœ°å’Œè¿œç¨‹ã€‚ç¬¬ä¸€ä¸ªæ˜¯ä»£ç†çš„æœ¬ç£ç›˜ï¼Œç”¨äºæ¥æ”¶æœ€æ–°æ•°æ®ï¼Œè€Œåè€…ä½¿ç”¨ ",["$","code",null,{"className":"custom-code","children":"HDFS/S3/GCS"}]," ç­‰å­˜å‚¨æ¥æŒä¹…åŒ–å†å²æ•°æ®ã€‚"]}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture3.webp","alt":"Maple","width":"550","height":"367"}]," åœ¨Kafkaåˆ†å±‚æ¶æ„ä¸­ï¼Œä»£ç†ä¸æ˜¯100%æ— çŠ¶æ€çš„"]}]}],["$","p",null,{"children":"è™½ç„¶å°†å†å²æ•°æ®å¸è½½åˆ°è¿œç¨‹å­˜å‚¨å¯ä»¥å¸®åŠ© Kafka broker çš„è®¡ç®—å’Œå­˜å‚¨å±‚å‡å°‘ç›¸äº’ä¾èµ–ï¼Œä½† broker å¹¶ä¸æ˜¯ 100% æ— çŠ¶æ€çš„ã€‚AutoMQ çš„å·¥ç¨‹å¸ˆä»¬æƒ³çŸ¥é“ï¼š\"æ˜¯å¦æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥å°†æ‰€æœ‰ Kafka æ•°æ®å­˜å‚¨åœ¨å¯¹è±¡å­˜å‚¨ä¸­ï¼ŒåŒæ—¶ä»ç„¶ä¿æŒåƒåœ¨æœ¬åœ°ç£ç›˜ä¸Šä¸€æ ·çš„é«˜æ€§èƒ½ï¼Ÿ\""}],["$","h2",null,{"className":"content-header","id":"automq-å­˜å‚¨æ¶æ„","children":[["$","a",null,{"href":"#automq-å­˜å‚¨æ¶æ„","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"AutoMQ å­˜å‚¨æ¶æ„"]}],["$","blockquote",null,{"children":["$","p",null,{"children":"ç›®å‰ï¼ŒAutoMQ å¯ä»¥åœ¨ AWSã€GCS å’Œ Azure ç­‰ä¸»è¦äº‘æä¾›å•†ä¸Šè¿è¡Œï¼Œä½†æˆ‘å°†ä½¿ç”¨ AWS çš„æŠ€æœ¯æ¥æè¿°å…¶æ¶æ„ï¼Œä»¥ä¾¿ä¸æˆ‘ä»ä»–ä»¬çš„åšå®¢å’Œæ–‡æ¡£ä¸­å­¦åˆ°çš„å†…å®¹ä¿æŒä¸€è‡´ã€‚"}]}],["$","p",null,{"children":["AutoMQ çš„ç›®æ ‡å¾ˆç®€å•ï¼š",["$","strong",null,{"children":"é€šè¿‡ä½¿å…¶èƒ½å¤Ÿå°†æ‰€æœ‰æ¶ˆæ¯å†™å…¥å¯¹è±¡å­˜å‚¨è€Œä¸ç‰ºç‰²æ€§èƒ½æ¥æé«˜ Kafka çš„æ•ˆç‡å’Œå¼¹æ€§"}],"ã€‚"]}],["$","p",null,{"children":"ä»–ä»¬é€šè¿‡é‡ç”¨ Apache Kafka ä»£ç è¿›è¡Œè®¡ç®—å’Œåè®®ï¼ŒåŒæ—¶å¼•å…¥å…±äº«å­˜å‚¨æ¶æ„æ¥æ›¿æ¢ Kafka broker çš„æœ¬åœ°ç£ç›˜æ¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚ä¸ç»´æŠ¤æœ¬åœ°å’Œè¿œç¨‹å­˜å‚¨çš„åˆ†å±‚å­˜å‚¨æ–¹æ³•ä¸åŒï¼ŒAutoMQ å¸Œæœ›ä½¿ç³»ç»Ÿå®Œå…¨æ— çŠ¶æ€ã€‚"}],["$","p",null,{"children":"ä»å®è§‚è§’åº¦æ¥çœ‹ï¼ŒAutoMQ broker å°†æ¶ˆæ¯å†™å…¥å†…å­˜ç¼“å­˜ã€‚åœ¨å¼‚æ­¥å°†æ­¤æ¶ˆæ¯å†™å…¥å¯¹è±¡å­˜å‚¨ä¹‹å‰ï¼Œbroker å¿…é¡»é¦–å…ˆå°†æ•°æ®å†™å…¥ WAL å­˜å‚¨ä»¥ç¡®ä¿æ•°æ®æŒä¹…æ€§ã€‚"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture4.webp","alt":"Maple","width":"1134","height":"748"}]," AutoMQ æ¶æ„æ¦‚è¿°å›¾"]}]}],["$","h3",null,{"className":"content-header","id":"ç¼“å­˜","children":[["$","a",null,{"href":"#ç¼“å­˜","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"ç¼“å­˜"]}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture5.webp","alt":"Maple","width":"786","height":"398"}]," AutoMQ ç¼“å­˜ç±»å‹å›¾"]}]}],["$","p",null,{"children":"AutoMQ ä½¿ç”¨å †å¤–ç¼“å­˜å†…å­˜å±‚æ¥å¤„ç†æ‰€æœ‰æ¶ˆæ¯çš„è¯»å†™ï¼Œä¿è¯å®æ—¶æ€§èƒ½ã€‚å®ƒç®¡ç†ä¸¤ç§ä¸åŒçš„ç¼“å­˜ä»¥æ»¡è¶³ä¸åŒéœ€æ±‚ï¼š"}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"æ—¥å¿—ç¼“å­˜"}],"å¤„ç†å†™å…¥å’Œçƒ­è¯»å–ï¼ˆéœ€è¦æœ€æ–°æ•°æ®çš„è¯»å–ï¼‰"]}],["$","li",null,{"children":[["$","strong",null,{"children":"å—ç¼“å­˜"}],"ç”¨äºå†·è¯»å–ï¼ˆè®¿é—®å†å²æ•°æ®ï¼‰"]}]]}],["$","p",null,{"children":"å¦‚æœæ•°æ®åœ¨æ—¥å¿—ç¼“å­˜ä¸­ä¸å¯ç”¨ï¼Œå®ƒå°†ä»å—ç¼“å­˜ä¸­è¯»å–ã€‚å—ç¼“å­˜é€šè¿‡ä½¿ç”¨é¢„å–å’Œæ‰¹é‡è¯»å–ç­‰æŠ€æœ¯æé«˜äº†å³ä½¿æ˜¯å†å²è¯»å–çš„å†…å­˜å‘½ä¸­ç‡ï¼Œè¿™æœ‰åŠ©äºåœ¨å†·è¯»å–æ“ä½œæœŸé—´ä¿æŒæ€§èƒ½ã€‚"}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","strong",null,{"children":"é¢„å–"}],"æ˜¯ä¸€ç§æå‰å°†é¢„è®¡éœ€è¦çš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­çš„æŠ€æœ¯,è¿™æ ·åœ¨éœ€è¦æ—¶å°±å¯ä»¥ç«‹å³ä½¿ç”¨,å‡å°‘ç­‰å¾…æ—¶é—´ã€‚æ‰¹é‡è¯»å–æ˜¯ä¸€ç§å…è®¸åœ¨å•ä¸ªæ“ä½œä¸­è¯»å–å¤šä¸ªæ•°æ®çš„æŠ€æœ¯ã€‚è¿™å‡å°‘äº†è¯»å–è¯·æ±‚çš„æ•°é‡å¹¶åŠ å¿«äº†æ•°æ®æ£€ç´¢é€Ÿåº¦ã€‚"]}]}],["$","p",null,{"children":"æ¯ä¸ªç¼“å­˜éƒ½æœ‰ä¸åŒçš„æ•°æ®æ·˜æ±°ç­–ç•¥ã€‚æ—¥å¿—ç¼“å­˜æœ‰ä¸€ä¸ªé»˜è®¤çš„æœ€å¤§å¤§å°(å¯é…ç½®)ã€‚å¦‚æœè¾¾åˆ°é™åˆ¶,ç¼“å­˜å°†ä½¿ç”¨å…ˆè¿›å…ˆå‡º(FIFO)ç­–ç•¥æ·˜æ±°æ•°æ®,ä»¥ç¡®ä¿æ–°æ•°æ®çš„å¯ç”¨æ€§ã€‚å¯¹äºå—ç¼“å­˜,AutoMQ ä½¿ç”¨æœ€è¿‘æœ€å°‘ä½¿ç”¨(LRU)ç­–ç•¥æ¥æ·˜æ±°å—æ•°æ®ã€‚"}],["$","p",null,{"children":"å†…å­˜ç¼“å­˜å±‚ä¸ºè¯»å†™æ“ä½œæä¾›æœ€ä½å»¶è¿Ÿ;ä½†å®ƒå—é™äºæœºå™¨å†…å­˜å¤§å°ä¸”ä¸å¯é ã€‚å¦‚æœ broker æœºå™¨å´©æºƒ,ç¼“å­˜ä¸­çš„æ•°æ®å°±ä¼šä¸¢å¤±ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ AutoMQ éœ€è¦ä¸€ç§æ–¹æ³•æ¥ä½¿æ•°æ®ä¼ è¾“æ›´å¯é ã€‚"}],["$","h3",null,{"className":"content-header","id":"é¢„å†™æ—¥å¿—wal","children":[["$","a",null,{"href":"#é¢„å†™æ—¥å¿—wal","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"é¢„å†™æ—¥å¿—(WAL)"]}],["$","p",null,{"children":"æ•°æ®ä½¿ç”¨ç›´æ¥ IO ä»æ—¥ç¼“å­˜å†™å…¥åŸå§‹ EBS è®¾å¤‡ã€‚"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture6.webp","alt":"Maple","width":"1180","height":"413"}]," AWS å¼¹æ€§å—å­˜å‚¨å›¾ç¤º"]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","strong",null,{"children":"EBS"}]," æ˜¯ä¸€ç§å¯ä»¥é™„åŠ åˆ° EC2 å®ä¾‹çš„æŒä¹…æ€§å—çº§å­˜å‚¨è®¾å¤‡ã€‚Amazon EBS æä¾›ä» SSD åˆ° HDD çš„å„ç§å·ç±»å‹,å…è®¸ç”¨æˆ·æ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚EBS å¤šé‡æŒ‚è½½åŠŸèƒ½å…è®¸å°†ä¸€ä¸ª EBS å·æŒ‚è½½åˆ°å¤šä¸ª EC2 å®ä¾‹ã€‚åœ¨æ¢ç´¢ AutoMQ å¦‚ä½•åœ¨åå°ä»æ•…éšœä¸­æ¢å¤æ—¶,æˆ‘ä»¬å°†é‡æ–°è®¨è®ºå¤šé‡æŒ‚è½½åŠŸèƒ½ã€‚"]}]}],["$","p",null,{"children":"EBS å­˜å‚¨å……å½“é¢„å†™æ—¥å¿—(WAL),è¿™æ˜¯ä¸€ä¸ªç”¨äºå´©æºƒå’Œäº‹åŠ¡æ¢å¤çš„ä»…è¿½åŠ ç£ç›˜ç»“æ„ã€‚ä½¿ç”¨ B-Tree è¿›è¡Œå­˜å‚¨ç®¡ç†çš„æ•°æ®åº“é€šå¸¸åŒ…å«è¿™ç§ç”¨äºæ¢å¤çš„æ•°æ®ç»“æ„;æ¯ä¸ªä¿®æ”¹éƒ½å¿…é¡»åœ¨åº”ç”¨åˆ°æ•°æ®ä¹‹å‰é€šè¿‡ WALã€‚å½“æœºå™¨ä»å´©æºƒä¸­æ¢å¤æ—¶,å®ƒå¯ä»¥è¯»å– WAL ä»¥æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture7.webp","alt":"Maple","width":"544","height":"375"}]," B-Treeå®ç°æ•°æ®åº“ä¸­çš„WALå›¾ç¤º"]}]}],["$","p",null,{"children":"ç±»ä¼¼åœ°,AutoMQ å°† EBS è®¾å¤‡è§†ä¸º WALã€‚broker å¿…é¡»ç¡®ä¿æ¶ˆæ¯å·²ç»åœ¨ WAL ä¸­,ç„¶åæ‰èƒ½å†™å…¥ S3;å½“ broker æ”¶åˆ°æ¶ˆæ¯æ—¶,å®ƒå†™å…¥å†…å­˜ç¼“å­˜,å¹¶ä¸”åªæœ‰åœ¨æ¶ˆæ¯æŒä¹…åŒ–åˆ° EBS åæ‰è¿”å›\"æˆ‘æ”¶åˆ°äº†ä½ çš„æ¶ˆæ¯\"å“åº”ã€‚AutoMQ ä½¿ç”¨ EBS ä¸­çš„æ•°æ®åœ¨ broker å¤±è´¥çš„æƒ…å†µä¸‹è¿›è¡Œæ¢å¤ã€‚æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­å›åˆ°æ¢å¤è¿‡ç¨‹ã€‚"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture8.webp","alt":"Maple","width":"559","height":"358"}]," AutoMQä¸­çš„WALå›¾ç¤º"]}]}],["$","p",null,{"children":"è€ƒè™‘åˆ° EBS çš„é«˜æˆæœ¬(ç‰¹åˆ«æ˜¯ IOPS ä¼˜åŒ–çš„ SSD ç±»å‹)æ˜¯å¾ˆé‡è¦çš„ã€‚ç”±äº AutoMQ ä¸­çš„ EBS è®¾å¤‡ä¸»è¦ç”¨ä½œ WAL ä»¥ç¡®ä¿æ¶ˆæ¯æŒä¹…æ€§,ç³»ç»Ÿåªéœ€è¦å¾ˆå°çš„ EBS å·ã€‚AutoMQ é»˜è®¤ WAL å¤§å°è®¾ç½®ä¸º 10GBã€‚"}],["$","h3",null,{"className":"content-header","id":"å¯¹è±¡å­˜å‚¨","children":[["$","a",null,{"href":"#å¯¹è±¡å­˜å‚¨","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"å¯¹è±¡å­˜å‚¨"]}],["$","p",null,{"children":"å¯¹è±¡å­˜å‚¨å­˜å‚¨æ‰€æœ‰ AutoMQ æ•°æ®ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨ AWS S3 æˆ– Google GCS ç­‰æœåŠ¡ä½œä¸ºè¿™ä¸€å±‚ã€‚äº‘å¯¹è±¡æœåŠ¡ä»¥å…¶æé«˜çš„æŒä¹…æ€§ã€å¯æ‰©å±•æ€§å’Œæˆæœ¬æ•ˆç›Šè€Œé—»åã€‚broker ä»æ—¥å¿—ç¼“å­˜å¼‚æ­¥å†™å…¥æ•°æ®åˆ°å¯¹è±¡å­˜å‚¨ã€‚"}],["$","p",null,{"children":"AutoMQ åœ¨å¯¹è±¡å­˜å‚¨ä¸­çš„æ•°æ®æ–‡ä»¶å…·æœ‰ä»¥ä¸‹ç»„ä»¶:"}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"DataBlock"}],": å­˜å‚¨å®é™…æ•°æ®"]}],["$","li",null,{"children":[["$","strong",null,{"children":"IndexBlock"}],": å­˜å‚¨ç´¢å¼•"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Footer"}],": å­˜å‚¨æ–‡ä»¶å…ƒæ•°æ®"]}]]}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture9.webp","alt":"Maple","width":"492","height":"602"}]," å¯¹è±¡å­˜å‚¨ä¸­çš„æ•°æ®æ–‡ä»¶å›¾ç¤º"]}]}],["$","ul",null,{"children":[["$","li",null,{"children":"DataBlock åŒ…å«å®é™…æ•°æ®ã€‚"}],["$","li",null,{"children":"IndexBlock æ˜¯ç”± DataBlockIndex é¡¹ç»„æˆçš„å›ºå®š 36 å­—èŠ‚å—ã€‚é¡¹ç›®æ•°é‡ä¸æ–‡ä»¶ä¸­çš„ DataBlock æ•°é‡ç›¸å…³ã€‚æ¯ä¸ª DataIndexBlock ä¸­çš„ä¿¡æ¯æœ‰åŠ©äºå®šä½ DataBlock ä½ç½®ã€‚"}],["$","li",null,{"children":"Footer æ˜¯ä¸€ä¸ªå›ºå®šçš„ 48 å­—èŠ‚å—,åŒ…å« IndexBlock çš„ä½ç½®å’Œå¤§å°,ä½¿å¿«é€Ÿè®¿é—®ç´¢å¼•æ•°æ®æˆä¸ºå¯èƒ½ã€‚"}]]}],["$","h3",null,{"className":"content-header","id":"å†™å…¥è¿‡ç¨‹","children":[["$","a",null,{"href":"#å†™å…¥è¿‡ç¨‹","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"å†™å…¥è¿‡ç¨‹"]}],["$","p",null,{"children":"ä»ç”¨æˆ·çš„è§’åº¦æ¥çœ‹,AutoMQ çš„å†™å…¥è¿‡ç¨‹ä¸ Apache Kafka ç±»ä¼¼ã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŒ…å«æ¶ˆæ¯å€¼å’Œç›®æ ‡ä¸»é¢˜çš„è®°å½•ã€‚ç„¶å,æ¶ˆæ¯è¢«åºåˆ—åŒ–å¹¶æ‰¹é‡é€šè¿‡ç½‘ç»œå‘é€ã€‚"}],["$","p",null,{"children":"å…³é”®çš„åŒºåˆ«åœ¨äº broker å¦‚ä½•å¤„ç†æ¶ˆæ¯æŒä¹…åŒ–ã€‚"}],["$","p",null,{"children":"åœ¨ Kafka ä¸­,broker å°†æ¶ˆæ¯å†™å…¥é¡µé¢ç¼“å­˜,ç„¶ååˆ·æ–°åˆ°æœ¬åœ°ç£ç›˜ã€‚å®ƒä»¬ä¸å®ç°ä»»ä½•å†…å­˜ç¼“å­˜,è€Œæ˜¯å°†æ‰€æœ‰å·¥ä½œäº¤ç»™æ“ä½œç³»ç»Ÿã€‚"}],["$","p",null,{"children":"åœ¨ AutoMQ ä¸­,æƒ…å†µåˆ™å¤§ä¸ç›¸åŒã€‚è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹æ¶ˆæ¯å†™å…¥è¿‡ç¨‹:"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture10.webp","alt":"Maple","width":"795","height":"489"}]," AutoMQæ•´ä½“æ¶ˆæ¯å†™å…¥è¿‡ç¨‹å›¾"]}]}],["$","ol",null,{"children":[["$","li",null,{"children":"ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€ç»™ broker å¹¶ç­‰å¾…å“åº”"}],["$","li",null,{"children":"broker å°†æ¥æ”¶åˆ°çš„æ¶ˆæ¯æ”¾å…¥æ—¥å¿—ç¼“å­˜(ä¸€ä¸ªå †å¤–å†…å­˜ç¼“å­˜)"}]]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","strong",null,{"children":"å †å¤–å†…å­˜"}],"åœ¨ Java ä¸­æ˜¯åœ¨ Java å †ä¹‹å¤–ç®¡ç†çš„ã€‚ä¸ç”± JVM å¤„ç†å’Œåƒåœ¾å›æ”¶çš„å †å†…å­˜ä¸åŒ,å †å¤–å†…å­˜ä¸æ˜¯è‡ªåŠ¨ç®¡ç†çš„ã€‚å¼€å‘äººå‘˜å¿…é¡»æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾å †å¤–å†…å­˜ã€‚ç”±äº JVM ä¸ä¼šè‡ªåŠ¨æ¸…ç†å †å¤–å†…å­˜,å¦‚æœå¤„ç†ä¸å½“,è¿™å¯èƒ½æ›´å¤æ‚ä¸”å®¹æ˜“å‘ç”Ÿå†…å­˜æ³„æ¼ã€‚"]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":"æ¶ˆæ¯éšåä½¿ç”¨ç›´æ¥ I/O å†™å…¥ WAL(EBS)è®¾å¤‡ã€‚ä¸€æ—¦æ¶ˆæ¯æˆåŠŸå†™å…¥ EBS,broker å°±ä¼šå‘ç”Ÿäº§è€…å‘é€æˆåŠŸå“åº”ã€‚(æˆ‘å°†åœ¨ä¸‹ä¸€èŠ‚è§£é‡Šè¿™ä¸ªè¿‡ç¨‹ã€‚)"}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","strong",null,{"children":"ç›´æ¥ I/O"}]," æ˜¯ä¸€ç§é€šè¿‡ç›´æ¥è¯»å†™ç£ç›˜æ¥ç»•è¿‡æ“ä½œç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿç¼“å­˜çš„æ–¹æ³•,è¿™å¯ä»¥å‡å°‘å»¶è¿Ÿå¹¶æé«˜å¤§æ•°æ®ä¼ è¾“çš„æ€§èƒ½ã€‚å®ç°ç›´æ¥ I/O é€šå¸¸éœ€è¦æ›´å¤æ‚çš„åº”ç”¨ç¨‹åºé€»è¾‘,å› ä¸ºå¼€å‘äººå‘˜å¿…é¡»ç®¡ç†æ•°æ®å¯¹é½ã€ç¼“å†²åŒºåˆ†é…å’Œå…¶ä»–ä½çº§ç»†èŠ‚ã€‚"]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":"æ—¥å¿—ç¼“å­˜ä¸­çš„æ¶ˆæ¯åœ¨è½åœ°åˆ° WAL åä¼šå¼‚æ­¥å†™å…¥å¯¹è±¡å­˜å‚¨ã€‚"}]}],["$","h3",null,{"className":"content-header","id":"ä»ç¼“å­˜åˆ°-wal-çš„æ—…ç¨‹","children":[["$","a",null,{"href":"#ä»ç¼“å­˜åˆ°-wal-çš„æ—…ç¨‹","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"ä»ç¼“å­˜åˆ° WAL çš„æ—…ç¨‹"]}],["$","p",null,{"children":"æ¶ˆæ¯ä½¿ç”¨ SlidingWindow æŠ½è±¡ä»æ—¥å¿—ç¼“å­˜å†™å…¥ WAL,å®ƒä¸ºæ¯æ¡è®°å½•åˆ†é…å†™å…¥ä½ç½®å¹¶ç®¡ç†å†™å…¥è¿‡ç¨‹ã€‚SlidingWindow æœ‰å‡ ä¸ªä½ç½®:"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture11.webp","alt":"Maple","width":"1456","height":"164"}]," æ»‘åŠ¨çª—å£ä½ç½®å›¾"]}]}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"Start Offset"}],": è¿™ä¸ªåç§»é‡æ ‡è®°æ»‘åŠ¨çª—å£çš„å¼€å§‹;ç³»ç»Ÿå·²ç»å†™å…¥äº†è¿™ä¸ªåç§»é‡ä¹‹å‰çš„è®°å½•"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Next Offset"}],": ä¸‹ä¸€ä¸ªæœªå†™å…¥çš„ä½ç½®;æ–°è®°å½•ä»è¿™é‡Œå¼€å§‹ã€‚Start å’Œ Next Offsets ä¹‹é—´çš„æ•°æ®å°šæœªå®Œå…¨å†™å…¥"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Max Offset"}],": è¿™æ˜¯æ»‘åŠ¨çª—å£çš„ç»“æŸ;å½“ Next Offset è¾¾åˆ°è¿™ä¸ªç‚¹æ—¶,å®ƒå°†å°è¯•æ‰©å±•çª—å£"]}]]}],["$","p",null,{"children":"ä¸ºäº†æ›´å¥½åœ°ç†è§£,è®©æˆ‘ä»¬æŸ¥çœ‹ AutoMQ ç”¨äºä¿ƒè¿›å†™å…¥ EBS è¿‡ç¨‹çš„ä¸€äº›æ–°æ•°æ®ç»“æ„:"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture12.webp","alt":"Maple","width":"1456","height":"487"}]," å—æ•°æ®ç»“æ„å›¾"]}]}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"block"}],": æœ€å°çš„ IO å•å…ƒ,åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè®°å½•,å†™å…¥ç£ç›˜æ—¶å¯¹é½åˆ° 4 KiB"]}],["$","li",null,{"children":[["$","strong",null,{"children":"writingBlocks"}],": å½“å‰æ­£åœ¨å†™å…¥çš„å—é›†åˆ;AutoMQ åœ¨å®Œæˆå†™å…¥ç£ç›˜åç§»é™¤è¿™äº›å—"]}],["$","li",null,{"children":[["$","strong",null,{"children":"pendingBlocks"}],": ç­‰å¾…å†™å…¥çš„å—;å½“ IO çº¿ç¨‹æ± å®Œæˆæ—¶,æ–°å—ä¼šæ”¾åœ¨è¿™é‡Œ,å½“æœ‰ç©ºé—´æ—¶ç§»åŠ¨åˆ° writingBlocks"]}],["$","li",null,{"children":[["$","strong",null,{"children":"currentBlock"}],": æ¥è‡ªç¼“å­˜çš„æœ€æ–°æ—¥å¿—ã€‚éœ€è¦å†™å…¥çš„è®°å½•æ”¾åœ¨è¿™ä¸ªå—ä¸­ã€‚æ–°è®°å½•ä¹Ÿåœ¨è¿™é‡Œåˆ†é…é€»è¾‘åç§»é‡ã€‚å½“ currentBlock æ»¡æ—¶,æ‰€æœ‰å—éƒ½æ”¾å…¥å¾…å¤„ç†å—ä¸­ã€‚æ­¤æ—¶,ç³»ç»Ÿå°†åˆ›å»ºä¸€ä¸ªæ–°çš„å½“å‰å—ã€‚"]}]]}],["$","p",null,{"children":"åœ¨å‡†å¤‡å¥½æ‰€æœ‰å…ˆå†³æ¡ä»¶ä¿¡æ¯å,æˆ‘ä»¬å°†äº†è§£æ•°æ®å†™å…¥ EBS çš„è¿‡ç¨‹:"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture13.webp","alt":"Maple","width":"686","height":"492"}]," æ¶ˆæ¯ä»ç¼“å­˜åˆ°WALçš„æ—…ç¨‹å›¾"]}]}],["$","ol",null,{"children":[["$","li",null,{"children":"è¿‡ç¨‹ä»ä¼ å…¥è®°å½•çš„è¿½åŠ è¯·æ±‚å¼€å§‹"}],["$","li",null,{"children":"è®°å½•è¢«æ·»åŠ åˆ° currentBlock,åˆ†é…åç§»é‡,å¹¶å¼‚æ­¥è¿”å›ç»™è°ƒç”¨è€…"}],["$","li",null,{"children":"å¦‚æœ currentBlock è¾¾åˆ°ç‰¹å®šå¤§å°æˆ–æ—¶é—´é™åˆ¶,å®ƒä¼šå°†æ‰€æœ‰å—ç§»åŠ¨åˆ° pendingBlocksã€‚AutoMQ å°†åˆ›å»ºä¸€ä¸ªæ–°çš„ currentBlock"}],["$","li",null,{"children":"å¦‚æœ writingBlocks å°‘äº IO çº¿ç¨‹æ± å¤§å°,åˆ™å°† pendingBlocks ä¸­çš„ä¸€ä¸ªå—ç§»åŠ¨åˆ° writingBlocks è¿›è¡Œå†™å…¥"}],["$","li",null,{"children":"ä¸€æ—¦å—å†™å…¥ç£ç›˜,å®ƒå°±ä» writingBlocks ä¸­ç§»é™¤;ç³»ç»Ÿé‡æ–°å¯åŠ¨æ»‘åŠ¨çª—å£çš„ Start Offsetã€‚æ ‡è®°è¿½åŠ è¯·æ±‚å®Œæˆ"}]]}],["$","h3",null,{"className":"content-header","id":"ä»ç¼“å­˜åˆ°å¯¹è±¡å­˜å‚¨çš„æ—…ç¨‹","children":[["$","a",null,{"href":"#ä»ç¼“å­˜åˆ°å¯¹è±¡å­˜å‚¨çš„æ—…ç¨‹","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"ä»ç¼“å­˜åˆ°å¯¹è±¡å­˜å‚¨çš„æ—…ç¨‹"]}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture14.webp","alt":"Maple","width":"682","height":"484"}]," æ¶ˆæ¯ä»ç¼“å­˜åˆ°å¯¹è±¡å­˜å‚¨çš„æ—…ç¨‹å›¾"]}]}],["$","p",null,{"children":["å½“æ—¥å¿—ç¼“å­˜ä¸­ç´¯ç§¯äº†è¶³å¤Ÿçš„æ•°æ®æ—¶,AutoMQ ä¼šè§¦å‘ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨ã€‚LogCache ä¸­çš„æ•°æ®æŒ‰ ",["$","code",null,{"className":"custom-code","children":"streamId"}]," å’Œ ",["$","code",null,{"className":"custom-code","children":"startOffset"}]," æ’åºã€‚ç„¶å AutoMQ æŒ‰æ‰¹æ¬¡å°†æ•°æ®ä»ç¼“å­˜å†™å…¥å¯¹è±¡å­˜å‚¨,æ¯ä¸ªæ‰¹æ¬¡æŒ‰ç›¸åŒçš„é¡ºåºä¸Šä¼ ã€‚"]}],["$","p",null,{"children":"å¦‚å‰æ‰€è¿°,å¯¹è±¡å­˜å‚¨ä¸­çš„æ•°æ®æ–‡ä»¶åŒ…æ‹¬ DataBlockã€IndexBlock å’Œ Footerã€‚"}],["$","p",null,{"children":"åœ¨ AutoMQ å®Œæˆå†™å…¥ DataBlock å,å®ƒä½¿ç”¨ä¹‹å‰å†™å…¥çš„ä¿¡æ¯æ„å»º IndexBlockã€‚ç”±äºå·²ç»çŸ¥é“æ¯ä¸ª DataBlock åœ¨å¯¹è±¡ä¸­çš„ä½ç½®,è¿™äº›æ•°æ®ç”¨äºä¸ºæ¯ä¸ª DataBlock åˆ›å»ºä¸€ä¸ª DataBlockIndexã€‚IndexBlock ä¸­çš„ DataBlockIndex æ•°é‡ä¸ DataBlock çš„æ•°é‡ç›¸å¯¹åº”ã€‚"}],["$","p",null,{"children":"æœ€å,Footer å…ƒæ•°æ®å—è®°å½•äº†ä¸ IndexBlock æ•°æ®ä½ç½®ç›¸å…³çš„ä¿¡æ¯ã€‚"}],["$","h3",null,{"className":"content-header","id":"è¯»å–è¿‡ç¨‹","children":[["$","a",null,{"href":"#è¯»å–è¿‡ç¨‹","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"è¯»å–è¿‡ç¨‹"]}],["$","p",null,{"children":"AutoMQ æ¶ˆè´¹è€…åƒ Apache Kafka ä¸€æ ·å¼€å§‹æ¶ˆè´¹è¿‡ç¨‹ã€‚å®ƒä»¬å‘å‡ºå¸¦æœ‰æ‰€éœ€åç§»é‡ä½ç½®çš„å¼‚æ­¥æ‹‰å–è¯·æ±‚ã€‚"}],["$","p",null,{"children":"åœ¨æ”¶åˆ°è¯·æ±‚åï¼Œbroker æœç´¢æ¶ˆæ¯å¹¶å°†å…¶è¿”å›ç»™æ¶ˆè´¹è€…ã€‚æ¶ˆè´¹è€…æ ¹æ®å½“å‰åç§»é‡ä½ç½®å’Œå…¶é•¿åº¦è®¡ç®—ä¸‹ä¸€ä¸ªåç§»é‡ä½ç½®ï¼Œå‡†å¤‡ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼š"}],["$","blockquote",null,{"children":["$","p",null,{"children":["$","code",null,{"className":"custom-code","children":"next_offset = current_offset + current_message_length"}]}]}],["$","p",null,{"children":"ç‰©ç†æ•°æ®è¯»å–è·¯å¾„ä¸ä¼ ç»Ÿæ–¹å¼æœ‰æ‰€ä¸åŒã€‚"}],["$","p",null,{"children":"AutoMQ å°è¯•å°½å¯èƒ½å¤šåœ°ä»å†…å­˜ä¸­æä¾›æ•°æ®è¯»å–æœåŠ¡ã€‚æœ€åˆï¼ŒKafka ä»é¡µé¢ç¼“å­˜ä¸­è¯»å–æ•°æ®ã€‚å¦‚æœæ¶ˆæ¯ä¸åœ¨é‚£é‡Œï¼Œæ“ä½œç³»ç»Ÿå°†è®¿é—®ç£ç›˜å¹¶å°†æ‰€éœ€æ•°æ®å¡«å……åˆ°é¡µé¢ç¼“å­˜ä¸­ä»¥æœåŠ¡è¯·æ±‚ã€‚"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture15.webp","alt":"Maple","width":"858","height":"590"}]," AutoMQæ•´ä½“æ¶ˆæ¯è¯»å–è¿‡ç¨‹å›¾"]}]}],["$","p",null,{"children":"AutoMQ ä¸­çš„è¯»å–æ“ä½œéµå¾ªä»¥ä¸‹è·¯å¾„ï¼š"}],["$","ul",null,{"children":[["$","li",null,{"children":["å¦‚æœè¯·æ±‚éœ€è¦æœ€è¿‘å†™å…¥çš„æ•°æ®ï¼Œå®ƒä»",["$","strong",null,{"children":"æ—¥å¿—ç¼“å­˜"}],"ä¸­è¯»å–ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰å·²ç»å†™å…¥ WAL çš„æ¶ˆæ¯æ‰å¯ç”¨äºæ»¡è¶³è¯·æ±‚"]}],["$","li",null,{"children":["å¦‚æœæ•°æ®ä¸åœ¨æ—¥å¿—ç¼“å­˜ä¸­ï¼Œæ“ä½œä¼šæ£€æŸ¥",["$","strong",null,{"children":"å—ç¼“å­˜"}]]}]]}],["$","p",null,{"children":"å—ç¼“å­˜é€šè¿‡ä»å¯¹è±¡å­˜å‚¨åŠ è½½æ•°æ®æ¥å¡«å……ã€‚å¦‚æœæ•°æ®ä»ç„¶æ‰¾ä¸åˆ°ï¼ŒAutoMQ ä¼šå°è¯•é¢„å–ã€‚é¢„å–å…è®¸ç³»ç»ŸåŠ è½½é¢„è®¡ä¸ä¹…åä¼šéœ€è¦çš„æ•°æ®ã€‚ç”±äºæ¶ˆè´¹è€…ä»ç‰¹å®šä½ç½®é¡ºåºè¯»å–æ¶ˆæ¯ï¼Œé¢„å–æ•°æ®å¯ä»¥æé«˜ç¼“å­˜å‘½ä¸­ç‡ï¼Œæå‡è¯»å–æ€§èƒ½ã€‚"}],["$","p",null,{"children":["ä¸ºäº†åŠ å¿«å¯¹è±¡å­˜å‚¨ä¸­çš„æ•°æ®æŸ¥æ‰¾é€Ÿåº¦ï¼Œbroker ä½¿ç”¨æ–‡ä»¶çš„ ",["$","code",null,{"className":"custom-code","children":"Footer"}]," æ¥æ‰¾åˆ° ",["$","code",null,{"className":"custom-code","children":"IndexBlock"}]," çš„ä½ç½®ã€‚IndexBlock ä¸­çš„æ•°æ®æŒ‰ ",["$","code",null,{"className":"custom-code","children":"(streamId, startOffset)"}]," æ’åºï¼Œé€šè¿‡äºŒåˆ†æŸ¥æ‰¾å¯ä»¥å¿«é€Ÿè¯†åˆ«æ­£ç¡®çš„ ",["$","code",null,{"className":"custom-code","children":"DataBlock"}],"ã€‚"]}],["$","p",null,{"children":"ä¸€æ—¦å®šä½åˆ° DataBlockï¼Œbroker å¯ä»¥é€šè¿‡éå† DataBlock ä¸­çš„æ‰€æœ‰è®°å½•æ‰¹æ¬¡æ¥é«˜æ•ˆåœ°æ‰¾åˆ°æ‰€éœ€æ•°æ®ã€‚"}],["$","p",null,{"children":["DataBlock ä¸­çš„è®°å½•æ‰¹æ¬¡æ•°é‡ä¼šå½±å“æ£€ç´¢ç‰¹å®šåç§»é‡çš„æ—¶é—´ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ä¸Šä¼ è¿‡ç¨‹ä¸­ï¼Œæ¥è‡ªåŒä¸€ä¸ªæµçš„æ‰€æœ‰æ•°æ®è¢«åˆ†æˆ ",["$","strong",null,{"children":"1MB"}]," çš„æ®µï¼Œç¡®ä¿æ¯ä¸ª DataBlock ä¸­çš„è®°å½•æ‰¹æ¬¡æ•°é‡ä¸ä¼šé™ä½æ£€ç´¢é€Ÿåº¦ã€‚"]}],["$","h3",null,{"className":"content-header","id":"æ¢å¤æœºåˆ¶","children":[["$","a",null,{"href":"#æ¢å¤æœºåˆ¶","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"æ¢å¤æœºåˆ¶"]}],["$","p",null,{"children":"å¦‚å‰æ‰€è¿°,EBS å­˜å‚¨ä½œä¸º AutoMQ çš„é¢„å†™æ—¥å¿—(WAL),å¸®åŠ©ä½¿æ¶ˆæ¯ä»å†…å­˜åˆ°å¯¹è±¡å­˜å‚¨çš„å†™å…¥è¿‡ç¨‹æ›´å¯é ã€‚è®©æˆ‘ä»¬è®¾æƒ³ä¸€ä¸ª AutoMQ é›†ç¾¤æœ‰ä¸¤ä¸ª broker(A å’Œ B)çš„æƒ…å†µ,æ¯ä¸ª broker éƒ½æœ‰ä¸¤ä¸ªå…³è”çš„ EBS å­˜å‚¨ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ AutoMQ æ˜¯å¦‚ä½•å®ç°å¯é çš„æ¶ˆæ¯ä¼ è¾“çš„:"}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture16.webp","alt":"Maple","width":"900","height":"897"}]," AutoMQå¦‚ä½•å®ç°å¯é çš„æ¶ˆæ¯ä¼ è¾“"]}]}],["$","p",null,{"children":"å¦‚å‰æ‰€è¿°,åªæœ‰å½“ broker ç¡®è®¤æ¶ˆæ¯å·²ç»è½åœ°åˆ° WAL(EBS)æ—¶,æ¶ˆæ¯æ‰è¢«è®¤ä¸ºæˆåŠŸæ¥æ”¶ã€‚"}],["$","p",null,{"children":"é‚£ä¹ˆ,å¦‚æœå…¶ä¸­ä¸€ä¸ª broker(æ¯”å¦‚ broker A)å´©æºƒäº†ä¼šæ€æ ·?è¯¥ broker çš„ EBS å­˜å‚¨è®¾å¤‡ä¼šæ€æ ·?é‚£äº›è¿˜æ²¡æœ‰å†™å…¥å¯¹è±¡å­˜å‚¨çš„ EBS æ•°æ®åˆä¼šæ€æ ·?"}],["$","p",null,{"children":"AutoMQ åˆ©ç”¨ AWS EBS å¤šé‡æŒ‚è½½åŠŸèƒ½æ¥å¤„ç†è¿™ç§æƒ…å†µã€‚åœ¨ broker A å®•æœºå,EBS è®¾å¤‡ A å°†è¢«æŒ‚è½½åˆ° broker Bã€‚å½“ broker B æœ‰ä¸¤ä¸ª EBS å·æ—¶,å®ƒä¼šé€šè¿‡æ ‡ç­¾çŸ¥é“å“ªä¸ªæ˜¯ä»ç©ºé—²çŠ¶æ€æŒ‚è½½çš„ã€‚Broker B ä¼šå°† EBS å­˜å‚¨ A çš„æ•°æ®åˆ·æ–°åˆ° S3,ç„¶ååˆ é™¤è¯¥å·ã€‚æ­¤å¤–,å½“å°†å­¤ç«‹çš„ EBS å·æŒ‚è½½åˆ° Broker B æ—¶,AutoMQ åˆ©ç”¨ NVME é¢„ç•™æ¥é˜²æ­¢æ„å¤–æ•°æ®å†™å…¥è¯¥å·ã€‚è¿™äº›ç­–ç•¥æ˜¾è‘—åŠ å¿«äº†æ•…éšœè½¬ç§»è¿‡ç¨‹ã€‚"}],["$","p",null,{"children":"æ–°åˆ›å»ºçš„ broker å°†æ‹¥æœ‰æ–°çš„ EBS å­˜å‚¨ã€‚"}],["$","h3",null,{"className":"content-header","id":"å…ƒæ•°æ®ç®¡ç†","children":[["$","a",null,{"href":"#å…ƒæ•°æ®ç®¡ç†","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"å…ƒæ•°æ®ç®¡ç†"]}],["$","blockquote",null,{"children":["$","p",null,{"children":"æˆ‘ä»¬å°†é€šè¿‡æ¢ç´¢ AutoMQ å¦‚ä½•ç®¡ç†é›†ç¾¤å…ƒæ•°æ®æ¥ç»“æŸæœ¬æ–‡ã€‚å®ƒé‡ç”¨äº† Kafka çš„ KRaft æœºåˆ¶ã€‚æˆ‘åœ¨å†™ Kafka ç³»åˆ—æ—¶æ²¡æœ‰æ·±å…¥ç ”ç©¶ KRaftï¼Œæ‰€ä»¥è¿™æ˜¯å­¦ä¹ è¿™ä¸ªå…ƒæ•°æ®ç®¡ç†æ¨¡å‹çš„å¥½æœºä¼šã€‚ğŸ˜Š"}]}],["$","p",null,{"children":"AutoMQ åˆ©ç”¨åŸºäº Kafka çš„ Kraft æ¨¡å¼çš„æœ€æ–°å…ƒæ•°æ®ç®¡ç†æ¶æ„ã€‚"}],["$","blockquote",null,{"children":["$","p",null,{"children":"ä¼ ç»Ÿçš„ Kafka ä¾èµ–å•ç‹¬çš„ ZooKeeper æœåŠ¡å™¨è¿›è¡Œé›†ç¾¤å…ƒæ•°æ®ç®¡ç†ï¼Œä½† KRaft æ¶ˆé™¤äº† ZooKeeperï¼Œç®€åŒ–äº† Kafka å¹¶å¢å¼ºäº†å¼¹æ€§ã€‚åœ¨ KRaft æ¨¡å¼ä¸‹ï¼ŒKafka ä½¿ç”¨åŸºäº Raft çš„å†…éƒ¨æ§åˆ¶å™¨ä»²è£ç»„ï¼ˆä¸€ç»„è´Ÿè´£ç»´æŠ¤å’Œç¡®ä¿å…ƒæ•°æ®ä¸€è‡´æ€§çš„ brokerï¼‰ã€‚Raft å…±è¯†ç®—æ³•ç”¨äºé€‰ä¸¾é¢†å¯¼è€…å¹¶åœ¨ä»²è£ç»„ä¹‹é—´å¤åˆ¶å…ƒæ•°æ®æ›´æ”¹ã€‚KRaft æ¨¡å¼ä¸‹çš„æ¯ä¸ª broker éƒ½ä¿ç•™å…ƒæ•°æ®çš„æœ¬åœ°å‰¯æœ¬ï¼Œè€Œæ§åˆ¶å™¨ä»²è£ç»„çš„é¢†å¯¼è€…ç®¡ç†æ›´æ–°å¹¶å°†å…¶å¤åˆ¶åˆ°æ‰€æœ‰ brokerï¼Œä»è€Œå‡å°‘æ“ä½œå¤æ‚æ€§å’Œæ½œåœ¨çš„æ•…éšœç‚¹ã€‚"}]}],["$","div",null,{"className":"flex flex-col items-center justify-center text-center","children":["$","div",null,{"children":[["$","$La",null,{"src":"/static/images/backend/kafka-object-storage/picture17.webp","alt":"Maple","width":"1314","height":"860"}]," Zookeeperæ¨¡å¼ä¸Kraftæ¨¡å¼å¯¹æ¯”å›¾"]}]}],["$","p",null,{"children":"AutoMQ ä¹Ÿæœ‰ä¸€ä¸ªæ§åˆ¶å™¨ä»²è£ç»„æ¥ç¡®å®šæ§åˆ¶å™¨é¢†å¯¼è€…ã€‚é›†ç¾¤å…ƒæ•°æ®ï¼ˆåŒ…æ‹¬ä¸»é¢˜/åˆ†åŒºä¸æ•°æ®ä¹‹é—´çš„æ˜ å°„ã€åˆ†åŒºä¸ broker ä¹‹é—´çš„æ˜ å°„ç­‰ï¼‰å­˜å‚¨åœ¨é¢†å¯¼è€…ä¸­ã€‚åªæœ‰é¢†å¯¼è€…å¯ä»¥ä¿®æ”¹è¿™äº›å…ƒæ•°æ®ï¼›å¦‚æœ broker æƒ³è¦æ›´æ”¹å®ƒï¼Œå¿…é¡»ä¸é¢†å¯¼è€…é€šä¿¡ã€‚å…ƒæ•°æ®è¢«å¤åˆ¶åˆ°æ¯ä¸ª brokerï¼›å…ƒæ•°æ®çš„ä»»ä½•æ›´æ”¹éƒ½ç”±æ§åˆ¶å™¨ä¼ æ’­åˆ°æ¯ä¸ª brokerã€‚"}],["$","h3",null,{"className":"content-header","id":"ç»“è¯­","children":[["$","a",null,{"href":"#ç»“è¯­","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"ç»“è¯­"]}],["$","p",null,{"children":"åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ¢ç´¢äº† AutoMQ å¦‚ä½•åˆ›é€ æ€§åœ°åˆ©ç”¨äº‘æœåŠ¡æ¥å®ç°ä¸€ä¸ªå…³é”®ç›®æ ‡ï¼šå°†æ‰€æœ‰ Kafka æ¶ˆæ¯å­˜å‚¨åœ¨å‡ ä¹æ— é™çš„å¯¹è±¡å­˜å‚¨ä¸­ï¼ŒåŒæ—¶ä¿æŒ Kafka åŸæœ‰çš„æ€§èƒ½å’Œå…¼å®¹æ€§ã€‚"}]]}]}],["$","div",null,{"className":"pb-6 pt-6 text-center text-gray-700 dark:text-gray-300","id":"comment","children":["$","$L12",null,{"slug":"backend/kafka-object-storage"}]}],["$","footer",null,{"children":["$","div",null,{"className":"flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base","children":[["$","div",null,{"className":"pt-4 xl:pt-8","children":["$","$L9",null,{"href":"/blog/tools/office-crack","className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","aria-label":"Previous post: 2024officeå®˜ç½‘æ­£ç‰ˆä¸‹è½½","children":["â† ","2024officeå®˜ç½‘æ­£ç‰ˆä¸‹è½½"]}]}],["$","div",null,{"className":"pt-4 xl:pt-8","children":["$","$L9",null,{"href":"/blog/backend/automq-kafka-cost","className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","aria-label":"Next post: AutoMQ å¦‚ä½•å‡ ä¹æ¶ˆé™¤äº† 100% çš„ Kafka è·¨å¯ç”¨åŒºæ•°æ®ä¼ è¾“æˆæœ¬","children":["AutoMQ å¦‚ä½•å‡ ä¹æ¶ˆé™¤äº† 100% çš„ Kafka è·¨å¯ç”¨åŒºæ•°æ®ä¼ è¾“æˆæœ¬"," â†’"]}]}]]}]}]]}]]}]}]]}]]
10:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"å¦‚ä½•è®© Kafka å®Œå…¨è¿è¡Œåœ¨å¯¹è±¡å­˜å‚¨ä¸Šï¼Ÿ"}],["$","meta","3",{"name":"description","content":"æ–‡ç« ä»‹ç»äº† AutoMQ å¦‚ä½•é€šè¿‡åˆ›æ–°çš„å­˜å‚¨æ¶æ„,è®© Kafka å®Œå…¨è¿è¡Œåœ¨å¯¹è±¡å­˜å‚¨ä¸Šã€‚å®ƒé€šè¿‡å †å¤–ç¼“å­˜å¤„ç†å®æ—¶è¯»å†™,ä½¿ç”¨ EBS ä½œä¸ºé¢„å†™æ—¥å¿—ç¡®ä¿å¯é æ€§,å¹¶å°†æ‰€æœ‰æ•°æ®æœ€ç»ˆå­˜å‚¨åœ¨å¯¹è±¡å­˜å‚¨ä¸­ã€‚è¿™ç§è®¾è®¡æ—¢ä¿æŒäº† Kafka çš„é«˜æ€§èƒ½,åˆè§£å†³äº†ä¼ ç»Ÿ Kafka å­˜å‚¨æ‰©å±•çš„å±€é™æ€§ã€‚"}],["$","meta","4",{"name":"robots","content":"index, follow"}],["$","meta","5",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","6",{"rel":"canonical","href":"https://blog.mainjay.cloudns.ch/blog/backend/kafka-object-storage"}],["$","link","7",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.mainjay.cloudns.ch/feed.xml"}],["$","meta","8",{"property":"og:title","content":"å¦‚ä½•è®© Kafka å®Œå…¨è¿è¡Œåœ¨å¯¹è±¡å­˜å‚¨ä¸Šï¼Ÿ"}],["$","meta","9",{"property":"og:description","content":"æ–‡ç« ä»‹ç»äº† AutoMQ å¦‚ä½•é€šè¿‡åˆ›æ–°çš„å­˜å‚¨æ¶æ„,è®© Kafka å®Œå…¨è¿è¡Œåœ¨å¯¹è±¡å­˜å‚¨ä¸Šã€‚å®ƒé€šè¿‡å †å¤–ç¼“å­˜å¤„ç†å®æ—¶è¯»å†™,ä½¿ç”¨ EBS ä½œä¸ºé¢„å†™æ—¥å¿—ç¡®ä¿å¯é æ€§,å¹¶å°†æ‰€æœ‰æ•°æ®æœ€ç»ˆå­˜å‚¨åœ¨å¯¹è±¡å­˜å‚¨ä¸­ã€‚è¿™ç§è®¾è®¡æ—¢ä¿æŒäº† Kafka çš„é«˜æ€§èƒ½,åˆè§£å†³äº†ä¼ ç»Ÿ Kafka å­˜å‚¨æ‰©å±•çš„å±€é™æ€§ã€‚"}],["$","meta","10",{"property":"og:url","content":"https://blog.mainjay.cloudns.ch/blog/backend/kafka-object-storage"}],["$","meta","11",{"property":"og:site_name","content":"MainJayLai Blog"}],["$","meta","12",{"property":"og:locale","content":"en_US"}],["$","meta","13",{"property":"og:image","content":"https://pngimg.com/uploads/github/github_PNG80.png"}],["$","meta","14",{"property":"og:type","content":"article"}],["$","meta","15",{"property":"article:published_time","content":"2024-11-28T00:00:00.000Z"}],["$","meta","16",{"property":"article:modified_time","content":"2024-11-28T00:00:00.000Z"}],["$","meta","17",{"property":"article:author","content":"mainJayLai"}],["$","meta","18",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","19",{"name":"twitter:title","content":"å¦‚ä½•è®© Kafka å®Œå…¨è¿è¡Œåœ¨å¯¹è±¡å­˜å‚¨ä¸Šï¼Ÿ"}],["$","meta","20",{"name":"twitter:description","content":"æ–‡ç« ä»‹ç»äº† AutoMQ å¦‚ä½•é€šè¿‡åˆ›æ–°çš„å­˜å‚¨æ¶æ„,è®© Kafka å®Œå…¨è¿è¡Œåœ¨å¯¹è±¡å­˜å‚¨ä¸Šã€‚å®ƒé€šè¿‡å †å¤–ç¼“å­˜å¤„ç†å®æ—¶è¯»å†™,ä½¿ç”¨ EBS ä½œä¸ºé¢„å†™æ—¥å¿—ç¡®ä¿å¯é æ€§,å¹¶å°†æ‰€æœ‰æ•°æ®æœ€ç»ˆå­˜å‚¨åœ¨å¯¹è±¡å­˜å‚¨ä¸­ã€‚è¿™ç§è®¾è®¡æ—¢ä¿æŒäº† Kafka çš„é«˜æ€§èƒ½,åˆè§£å†³äº†ä¼ ç»Ÿ Kafka å­˜å‚¨æ‰©å±•çš„å±€é™æ€§ã€‚"}],["$","meta","21",{"name":"twitter:image","content":"https://pngimg.com/uploads/github/github_PNG80.png"}],["$","meta","22",{"name":"next-size-adjust"}]]
1:null
